"use strict";function setChildIndexIds(element,taskId,suffix,depth){var children=$(element).children(),id=$(element).attr("id");if(id=id?id+"{{$index}}tsk"+taskId+"suf"+suffix+"dep"+depth:"grid{{$index}}tsk"+taskId+"suf"+suffix+"dep"+depth,++depth,$(element).attr("id",id),children.length>0)for(var i=0;i<children.length;i++){var element=children[i];setChildIndexIds(element,taskId,suffix+"_"+i,depth)}}function Task(){var task={};return task.id=void 0,task.glyph=void 0,task.title=void 0,task.active=void 0,task.size=void 0,task.pinned=void 0,task.locked=void 0,task.url=void 0,task.page=void 0,task.pages=void 0,task}function Control(){var control={};return control.id=void 0,control.glyph=void 0,control.label=void 0,control.disabled=void 0,control.action=void 0,control.visible=function(){return!0},control}function estimateHeight(height){var _pc=window.innerWidth<450?55:window.innerWidth<768?55:window.innerWidth<1200?60:50;return height-_pc}function estimatedFrameHeight(height){console.info("estimatedFrameHeight.getHeadingHeight",getHeadingHeight());var _pc=window.innerWidth<450?60:window.innerWidth<768?60:window.innerWidth<1200?65:50;return height-_pc}function getHeadingHeight(){var height=0;return $("body").children().each(function(){return $(this).hasClass("frame-content")?!1:void(height+=$(this).outerHeight())}),height}function generateTask(scope,t,f2){if(console.info("generateTask > scope.task.page",scope.task.page),scope.task.pageLoaded=!1,void 0===scope.task.page||null===scope.task.page){if(scope.task.pages){var $page=getHomePageFromTaskPages(scope.task);scope.task.page=$page.page,scope.homeUrl=$page.page.get,scope.home=$page.page.name,scope.task.navPages=[$page.page],console.info("page",scope.task.page)}}else{scope.homeUrl=scope.task.page.get,scope.task.page.param=scope.task.pageParam;var page=scope.task.page;if(scope.task.page.isHome&&scope.task.page.isHome!==!1)scope.task.navPages=[page];else if(scope.task.pages){var $page=getHomePageFromTaskPages(scope.task);scope.home=$page.page.name,scope.task.navPages=[$page.page]}scope.task.page.param&&"null"!==scope.task.page.param&&(scope.homeUrl=scope.task.page.get+scope.task.page.param,console.info("homeUrl",scope.homeUrl)),scope.task.navPages.indexOf(page)>-1?scope.currentPageIndex=getPageIndexFromPages(scope.task.page.name,scope.task.navPages).index:(scope.task.navPages.push(page),scope.currentPageIndex=scope.task.navPages.length-1);for(var i=0;i<scope.toolbars.length;i++)"back"===scope.toolbars[i].id&&(scope.toolbars[i].disabled=!(scope.currentPageIndex>0)),"forward"===scope.toolbars[i].id&&(scope.toolbars[i].disabled=!(scope.currentPageIndex<scope.task.navPages.length-1))}scope.userTask.fluidId=scope.task.fluidId,console.info("new_task",scope.task);var loadGetFn=function(){(void 0===scope.task.preLoaded||scope.task.preLoaded===!1)&&(scope.task.preLoad(),scope.task.preLoaded=!0),scope.loadGet(),scope.task.preLoaded&&(scope.task.load(),scope.task.loaded=!0),scope.task.postLoad()};t(loadGetFn,500)}function isJson(str){try{JSON.parse(str)}catch(e){return!1}return!0}function getHomePageFromTaskPages(task){var $page={};return angular.forEach(task.pages,function(page,key){page.isHome&&(this.page=page,this.index=key)},$page),$page}function getPageIndexFromTaskPages(name,task){var $index=-1;return angular.forEach(task.pages,function(page,key){page.name===name&&(this.index=key)},$index),$index}function getPageIndexFromPages(name,pages){var $index={index:-1};return angular.forEach(pages,function(page,key){null!=page&&page.name===name&&(this.index=key)},$index),$index}function saveTaskSate(task,userTask,fluidHttpService,field){return task.generic===!1&&-1===task.id.indexOf("gen")?(userTask.fluidTaskId=task.id.split("_")[0],userTask.fluidId=task.fluidId,fluidHttpService.query({url:task.stateAjax.url+"?field="+field,method:task.stateAjax.method,data:userTask},task)):void 0}function autoSizePanel(task){console.info("autoSizePanel",task);var height=window.innerHeight;height=estimateHeight(height);var panel=$("#_id_fp_"+task.id+".panel"),panelBody=$("#_id_fp_"+task.id+".panel div.fluid-panel-content");panel.height(height);var headerHeight=panel.find("div.panel-heading").outerHeight();task.showToolBar?(headerHeight+=panel.find("div.ndg-breadcrumb").outerHeight()+13,panelBody.css("margin-top","")):panelBody.css("margin-top","2px"),headerHeight+=22;var bodyHeight=height-headerHeight;panelBody.css("height",bodyHeight,"important"),panelBody.css("overflow-y","auto"),console.info("autoSizePanel.bodyHeight",bodyHeight)}function getOffset(parent,offset,index){var child=parent.children()[index];return console.info("fluidFrame-getOffset.parent",parent),console.info("fluidFrame-getOffset.parent.children",parent.children),child?(console.info("fluidFrame-getOffset.parent.child",child),$(child).hasClass("panel-collapse")?(index=0,getOffset($(child),offset,index)):$(child).hasClass("panel-body")?(index=0,getOffset($(child),offset,index)):void 0!==$(child).attr("page-name")?offset:(index++,offset+=$(child).height(),console.info("fluidFrame-getOffset.parent.child.offset",offset),getOffset(parent,offset,index))):offset}function autoSizeFrame(element,offset,height){console.info("autoSizeFrame.offset",offset);var frameHeight=height-2;$("body").css("max-height",height).css("overflow-y","hidden"),offset&&(frameHeight-=offset),element.css("margin-top",offset+"px"),element.height(frameHeight)}function autoFullscreen(element,height,width){var panelHeight=height,offset=getOffset(element,0,0);console.info("fluidFrame-autoFullscreen.element",element),console.info("fluidFrame-autoFullscreen.height",height);var pageHeight=panelHeight-offset;element.find(".fluid-page").ready(function(){element.find(".fluid-page").css("max-height",pageHeight+"px").css("overflow-y","auto")}),element.height(panelHeight)}function autoSizeBreadcrumb(element,parent,id){var offsetWidth=0,lastIndex=parent.children().length-1;angular.forEach(parent.children(),function(value,index){var width=parent.innerWidth();$(value).hasClass("fluid-breadcrumb")||(console.info("fluidBreadcrumb-autoSizeBreadcrumb.value",value),offsetWidth+=$(value).width(),console.info("fluidBreadcrumb-autoSizeBreadcrumb.value.width",$(value).width())),index===lastIndex&&(console.info("fluidBreadcrumb-autoSizeBreadcrumb.offsetWidth",offsetWidth),width-=offsetWidth+20,this.width(width),console.info("fluidBreadcrumb-autoSizeBreadcrumb.width",width))},element)}var fluidComponents=angular.module("fluid",["oc.lazyLoad","LocalStorageModule","ngResource","templates-dist","fluidSession","fluidHttp","fluidFrame","fluidMessage","fluidOption","fluidTool","fluidPage","fluidPanel","fluidTasknav","fluidTask","fluidTaskcontrols"]),EVENT_TIME_OUT="TIME_OUT",EVENT_TASK_LOADED="TASK_LOAD";fluidComponents.config(["$httpProvider","localStorageServiceProvider",function(h,ls){ls.setPrefix("fluid").setStorageType("sessionStorage").setNotify(!0,!0),h.interceptors.push("fluidInjector")}]),fluidComponents.run(["taskState",function(ts){}]),fluidComponents.directive("fluidPermissionEnabled",["fluidHttpService","$compile","sessionService",function(f,c,ss){return{restrict:"A",scope:{task:"=",page:"="},link:function(scope,element,attr){attr.method&&(scope.method=attr.method),console.info("permissionEnabled-url",f.permissionUrl+"?pageName="+scope.page.name+"&method="+scope.method);var url=f.permissionUrl+"?pageName="+scope.page.name+"&method="+scope.method,enabled=ss.getSessionProperty(url);console.info("permissionEnabled",enabled),null!==enabled&&(console.info("permissionEnabled-old",enabled),"false"===enabled&&element.attr("disabled","")),null===enabled&&(f.get(url,scope.task).success(function(data){data||element.attr("disabled",""),ss.addSessionProperty(url,data)}),console.info("permissionEnabled-new"))}}}]).directive("fluidPermissionVisible",["fluidHttpService","$compile","sessionService",function(f,c,ss){return{restrict:"A",scope:{task:"=",page:"="},link:function(scope,element,attr){attr.method&&(scope.method=attr.method),console.info("permissionVisible-url",f.permissionUrl+"?pageName="+scope.page.name+"&method="+scope.method);var url=f.permissionUrl+"?pageName="+scope.page.name+"&method="+scope.method,visible=ss.getSessionProperty(url);console.info("permissionVisible",visible),null!==visible&&(console.info("permissionVisible-old",visible),"false"===visible?(element.addClass("hidden"),console.info("permissionVisible-hidden")):(console.info("permissionVisible-visible"),element.removeClass("hidden"))),null===visible&&f.get(url,scope.task).success(function(data){data||element.addClass("hidden"),ss.addSessionProperty(url,data)})}}}]).directive("column",["$rootScope",function(rs){return{restrict:"A",scope:!1,link:function(scope,element,attr){attr.column&&(scope.column=attr.column),scope.$watch(function(scope){return attr.column},function(column,oldColumn){console.info("column-old",oldColumn),console.info("column",column),element.removeClass("col-lg-"+oldColumn),element.addClass("col-lg-"+column),scope.column=column}),element.addClass("col-md-12").addClass("col-sm-12").addClass("col-xs-12"),scope.$watch(function(scope){return scope.task?scope.task.size:void 0},function(size){switch(size){case 25:element.removeClass("col-lg-"+scope.column),element.addClass("col-lg-12").addClass("col-md-12").addClass("col-sm-12").addClass("col-xs-12");break;case 50:"lg"===rs.viewport?(element.removeClass("col-md-"+scope.column),element.addClass("col-lg-"+scope.column)):"md"===rs.viewport?(element.removeClass("col-lg-"+scope.column),element.addClass("col-md-"+scope.column)):"sm"===rs.viewport?(element.removeClass("col-lg-"+scope.column),element.removeClass("col-md-"+scope.column),element.addClass("col-sm-12")):"xs"===rs.viewport&&(element.removeClass("col-lg-"+scope.column),element.removeClass("col-md-"+scope.column),element.addClass("col-xs-12"));break;case 75:"lg"===rs.viewport?(element.removeClass("col-md-"+scope.column),element.addClass("col-lg-"+scope.column)):"md"===rs.viewport?(element.removeClass("col-lg-"+scope.column),element.addClass("col-md-12")):"sm"===rs.viewport?(element.removeClass("col-lg-"+scope.column),element.removeClass("col-md-"+scope.column),element.addClass("col-sm-12")):"xs"===rs.viewport&&(element.removeClass("col-lg-"+scope.column),element.removeClass("col-md-"+scope.column),element.addClass("col-xs-12"));break;case 100:"lg"===rs.viewport?(element.removeClass("col-md-"+scope.column),element.addClass("col-lg-"+scope.column)):"md"===rs.viewport?(element.addClass("col-md-"+scope.column),element.removeClass("col-lg-"+scope.column)):"sm"===rs.viewport?(element.removeClass("col-lg-"+scope.column),element.removeClass("col-md-"+scope.column),element.addClass("col-sm-12")):"xs"===rs.viewport&&(element.removeClass("col-lg-"+scope.column),element.removeClass("col-md-"+scope.column),element.addClass("col-xs-12"))}console.info("column-size",size)})}}}]),fluidComponents.service("fluidMonitorService",[function(){}]),fluidComponents.factory("fluidInjector",["$q","$rootScope","sessionService","fluidLoaderService","responseEvent",function(q,rs,ss,fls,r){return{request:function(config){return fls.enabled&&(fls.loaded=!1),config.headers["Access-Control-Allow-Origin"]="*",ss.isSessionOpened()&&(config.headers.Authorization=ss.getSessionProperty(AUTHORIZATION)),console.info("fluidInjector-request.config-altered",config),config},requestError:function(rejection){return fls.loaded=!0,fls.enabled=!0,q.reject(rejection)},response:function(response){return fls.loaded=!0,fls.enabled=!0,r.callEvent(response),response},responseError:function(rejection){return fls.loaded=!0,fls.enabled=!0,q.reject(rejection)}}}]).factory("responseEvent",["$location","$rootScope",function(l,rs){var responseEvent={};return responseEvent.responses=[],responseEvent.addResponse=function(evt,statusCode,redirect,path){responseEvent.responses.push({evt:evt,statusCode:statusCode,redirect:redirect,path:path})},responseEvent.callEvent=function(res){angular.forEach(responseEvent.responses,function(response){response.statusCode===res.statusCode&&(response.evt?rs.$broadcast(response.evt,response.data,response.statusText):response.redirect&&l.path(response.path))})},responseEvent}]),fluidComponents.directive("bootstrapViewport",["$rootScope","$window",function(rs,w){return{restrict:"AE",replace:!0,template:"<span class='hidden'><span class='fluid-view-lg'></span><span class='fluid-view-md'></span><span class='fluid-view-sm'></span><span class='fluid-view-xs'></span></span>",link:function(scope,element,attr){"block"===element.find("span.fluid-view-lg").css("display")?rs.viewport="lg":"block"===element.find("span.fluid-view-md").css("display")?rs.viewport="md":"block"===element.find("span.fluid-view-sm").css("display")?rs.viewport="sm":"block"===element.find("span.fluid-view-xs").css("display")&&(rs.viewport="xs"),$(w).on("resize",function(){rs&&("block"===element.find("span.fluid-view-lg").css("display")?rs.viewport="lg":"block"===element.find("span.fluid-view-md").css("display")?rs.viewport="md":"block"===element.find("span.fluid-view-sm").css("display")?rs.viewport="sm":"block"===element.find("span.fluid-view-xs").css("display")&&(rs.viewport="xs"))})}}}]),fluidComponents.directive("hidden25",["$rootScope","fluidFrameService","$window",function(rs,f,w){return{restrict:"AC",scope:!1,link:function(scope,element,attr){scope.rs=rs,"lg"!==rs.viewport||f.fullScreen?element.removeClass("hideSize25"):25===scope.task.size?element.addClass("hideSize25"):element.removeClass("hideSize25"),scope.task&&scope.$watch(function(scope){return scope.task.size},function(value){"lg"!==rs.viewport||f.fullScreen?element.removeClass("hideSize25"):25===value?element.addClass("hideSize25"):element.removeClass("hideSize25")}),$(w).on("resize",function(){scope&&("lg"!==scope.rs.viewport||f.fullScreen?element.removeClass("hideSize25"):25===scope.task.size?element.addClass("hideSize25"):element.removeClass("hideSize25"))})}}}]).directive("hidden50",["$rootScope","fluidFrameService","$window",function(rs,f,w){return{restrict:"AC",scope:!1,link:function(scope,element,attr){scope.rs=rs,"lg"!==rs.viewport||f.fullScreen?element.removeClass("hideSize50"):50===scope.task.size?element.addClass("hideSize50"):element.removeClass("hideSize50"),scope.task&&scope.$watch(function(scope){return scope.task.size},function(value){"lg"!==rs.viewport||f.fullScreen?element.removeClass("hideSize50"):50===value?element.addClass("hideSize50"):element.removeClass("hideSize50")}),$(w).on("resize",function(){scope&&("lg"!==scope.rs.viewport||f.fullScreen?element.removeClass("hideSize50"):(console.info("hidden50-viewport",rs.viewport),console.info("hidden50-size",scope.task.size),50===scope.task.size?element.addClass("hideSize50"):element.removeClass("hideSize50")))})}}}]).directive("hidden75",["$rootScope","fluidFrameService","$window",function(rs,f,w){return{restrict:"AC",scope:!1,link:function(scope,element,attr){scope.rs=rs,"lg"!==rs.viewport||f.fullScreen?element.removeClass("hideSize75"):75===scope.task.size?element.addClass("hideSize75"):element.removeClass("hideSize75"),scope.task&&scope.$watch(function(scope){return scope.task.size},function(value){"lg"!==rs.viewport||f.fullScreen?element.removeClass("hideSize75"):75===value?element.addClass("hideSize75"):element.removeClass("hideSize75")}),$(w).on("resize",function(){scope&&("lg"!==scope.rs.viewport||f.fullScreen?element.removeClass("hideSize75"):75===scope.task.size?element.addClass("hideSize75"):element.removeClass("hideSize75"))})}}}]).directive("hidden100",["$rootScope","fluidFrameService","$window",function(rs,f,w){return{restrict:"AC",scope:!1,link:function(scope,element,attr){scope.rs=rs,"lg"!==rs.viewport||f.fullScreen?element.removeClass("hideSize100"):100===scope.task.size?element.addClass("hideSize100"):element.removeClass("hideSize100"),scope.task&&scope.$watch(function(scope){return scope.task.size},function(value){"lg"!==rs.viewport||f.fullScreen?element.removeClass("hideSize100"):100===value?element.addClass("hideSize100"):element.removeClass("hideSize100")}),$(w).on("resize",function(){scope&&("lg"!==scope.rs.viewport||f.fullScreen?element.removeClass("hideSize100"):(console.info("hidden100-viewport",rs.viewport),console.info("hidden100-size",scope.task.size),100===scope.task.size?element.addClass("hideSize100"):element.removeClass("hideSize100")))})}}}]).directive("hiddenFullscreenXs",["$rootScope","fluidFrameService","$window",function(rs,f,w){return{restrict:"AC",scope:!1,link:function(scope,element,attr){var viewport=rs.viewport;"xs"===viewport&&f.fullScreen?element.addClass("hideFullscreenXs"):element.removeClass("hideFullscreenXs"),$(w).on("resize",function(){var viewport=rs.viewport;"xs"===viewport&&f.fullScreen?element.addClass("hideFullscreenXs"):element.removeClass("hideFullscreenXs")})}}}]).directive("hiddenFullscreenSm",["$rootScope","fluidFrameService","$window",function(rs,f,w){return{restrict:"AC",scope:!1,link:function(scope,element,attr){var viewport=rs.viewport;"sm"===viewport&&f.fullScreen?element.addClass("hideFullscreenSm"):element.removeClass("hideFullscreenSm"),$(w).on("resize",function(){var viewport=rs.viewport;"sm"===viewport&&f.fullScreen?element.addClass("hideFullscreenSm"):element.removeClass("hideFullscreenSm")})}}}]).directive("hiddenFullscreenMd",["$rootScope","fluidFrameService","$window",function(rs,f,w){return{restrict:"AC",scope:!1,link:function(scope,element,attr){var viewport=rs.viewport;"md"===viewport&&f.fullScreen?element.addClass("hideFullscreenMd"):element.removeClass("hideFullscreenMd"),$(w).on("resize",function(){var viewport=rs.viewport;"md"===viewport&&f.fullScreen?element.addClass("hideFullscreenMd"):element.removeClass("hideFullscreenMd")})}}}]).directive("hiddenFullscreenLg",["$rootScope","fluidFrameService","$window",function(rs,f,w){return{restrict:"AC",scope:!0,link:function(scope,element,attr){var viewport=rs.viewport;"lg"===viewport&&f.fullScreen?element.addClass("hideFullscreenLg"):element.removeClass("hideFullscreenLg"),$(w).on("resize",function(){var viewport=rs.viewport;"lg"===viewport&&f.fullScreen?element.addClass("hideFullscreenLg"):element.removeClass("hideFullscreenLg")})}}}]),fluidComponents.filter("reverse",function(){return function(items){return items?items.slice().reverse():void 0}});var eventInterceptorId="event_interceptor_id_",goToEventID="event_got_id_",EVENT_NOT_ALLOWED="not_allowed_",AUTHORIZATION="authorization";$(document).ready(function(){var infoSig="fluidDocumentHandler";$(this).click(function(e){$(".fluid-option").each(function(index,element){var fluidOptionScope=angular.element($(element)).scope();if(fluidOptionScope){var sourceId=$(e.target).attr("id"),elementSourceEvent=$(element).attr("source-event");if($.contains(element,e.target))return;if(elementSourceEvent){{var elementSource=$("[id='"+elementSourceEvent+"']");elementSource.context.activeElement}if(elementSource.find(e.target).length>0)return;if(elementSource.is(e.target))return;if(elementSourceEvent!==sourceId){console.info(infoSig+".fluidPanel",fluidOptionScope.fluidPanel);var fluidPage=fluidOptionScope.fluidPanel.getPage(fluidOptionScope.fluidPanel.fluidBreadcrumb.currentPage());console.info(infoSig+".fluidPage",fluidPage),fluidPage.option.isOpen&&(fluidPage.option.close(),fluidPage.option.returnToPrevious&&(fluidPage.option.returnToPrevious(),fluidPage.$scope.$$phase||fluidPage.$scope.$apply()))}}}})})}),angular.module("fluidBreadcrumb",[]).directive("fluidBreadcrumb",["$templateCache","FluidBreadcrumb",function(tc,FluidBreadcrumb){return{restrict:"E",replace:!0,template:tc.get("templates/fluid/fluidBreadcrumb.html"),scope:{fluidPanel:"="},link:function(scope,element,attr){scope.breadcrumb=new FluidBreadcrumb(scope.fluidPanel),console.info("fluidBreadcrumb.breadcrumb",scope.breadcrumb)}}}]).factory("FluidBreadcrumb",["breadcrumbService",function(bcs){var fluidBreadcrumb=function(fluidPanel){return null!=bcs.breadcrumbs[fluidPanel.id]?bcs.breadcrumbs[fluidPanel.id]:(this.$=$("div#_id_fp_"+fluidPanel.id+" .fluid-breadcrumb"),this.fluidId=fluidPanel.id,this.pages=[],this.current=0,this.hasNext=function(){return this.current<this.pages.length-1},this.hasPrevious=function(){return this.current>0},this.next=function(){this.hasNext()&&(this.current++,this.scrollToCurrent())},this.previous=function(){this.hasPrevious()&&(this.current--,this.scrollToCurrent())},this.addPage=function(page){this.pages.indexOf(page.name)>-1?this.current=this.pages.indexOf(page.name):(this.pages.push(page.name),this.current=this.pages.indexOf(page.name)),this.scrollToCurrent()},this.scrollToCurrent=function(){this.scrollTo(this.current)},this.scrollTo=function(index){console.info("fluidBreadcrumb.scrollTo.index",index),this.$.scrollTo(this.$.find("div:eq("+index+")"),800)},this.currentPage=function(){return this.pages[this.current]},this.close=function(page,$index,$event){this.pages.splice($index,1),this.current>0&&(this.current-=1),console.info("fluidBreadcrumb-FluidBreadcrumb-close.current",this.current)},this.open=function(page,$index,$event){this.current=$index},bcs.breadcrumbs[fluidPanel.id]=this,void 0)};return fluidBreadcrumb}]).service("breadcrumbService",[function(){return this.breadcrumbs=[],this}]).directive("fluidResizeBreadcrumb",["$window","FluidBreadcrumb",function($w,FluidBreadcrumb){return{restrict:"A",scope:!1,link:function(scope,element,attr){var w=angular.element($w);console.info("fluidBreadcrumb-fluidResizeBreadcrumb.element",element);var parent=element.parent();console.info("fluidBreadcrumb-fluidResizeBreadcrumb.parent",parent[0].clientWidth),console.info("fluidBreadcrumb-fluidResizeBreadcrumb.fluidPanel.id",scope.fluidPanel.id),w.bind("resize",function(){if(scope.fluidPanel&&scope.fluidPanel.page&&scope.fluidPanel.loaded){autoSizeBreadcrumb(element,parent,scope.fluidPanel.id);var fluidBreadcrumb=new FluidBreadcrumb(scope.fluidPanel);fluidBreadcrumb.scrollToCurrent()}}),scope.$watch(function(scope){return scope.fluidPanel.page},function(page){console.info("fluidResizeBreadcrumb$watch.fluidPanel.page",page),page&&scope.fluidPanel.loaded&&autoSizeBreadcrumb(element,parent,scope.fluidPanel.id)})}}}]);var frameKey="frame_";angular.module("fluidFrame",["fluidHttp","fluidTask","fluidSession"]).directive("fluidFrame2",["$templateCache","$window","fluidFrameService",function(tc,window,FrameService){return{restrict:"E",replace:!0,scope:{name:"@",fullScreen:"=",showWorkspace:"="},controller:["$scope",function(s){if(!s.name)throw"'name' attribute is required.";s.frame=new FrameService(s.name),s.$watch(function(scope){return scope.frame},function(frame){console.info("fluidFrame-fluidFrame2$watch.frame",frame)})}],template:tc.get("templates/fluid/fluidFrame2.html")}}]).directive("fluidFrame",["fluidFrameService","$window","$rootScope","$timeout","$templateCache",function(f,w,rs,t,tc){return{restrict:"AE",transclude:!0,scope:!0,template:tc.get("templates/fluid/fluidFrame.html"),replace:!0,controller:function($scope){},link:function(scope,element){scope.frame={},scope.fluidFrameService=f,scope.$watch(function(scope){return scope.fluidFrameService.fullScreen},function(fullScreen){var frameDiv=$(element.find("div.form-group")[1]);if(fullScreen){var height=window.innerHeight;height=estimatedFrameHeight(height);var frameHeight=height;scope.fluidFrameService.isSearch?frameDiv.attr("style","height:"+frameHeight+"px;overflow:hidden"):element.attr("style","height:"+frameHeight+"px;overflow:hidden"),$("body").attr("style","height: "+window.innerHeight+"px;overflow:hidden")}else{var height=window.innerHeight;height=estimatedFrameHeight(height);var frameHeight=height;scope.fluidFrameService.isSearch?frameDiv.attr("style","height:"+frameHeight+"px;overflow:auto"):element.attr("style","height:"+frameHeight+"px;overflow:auto"),$("body").attr("style","height: "+window.innerHeight+"px;overflow:hidden")}}),scope.show=function(task){task.pinned||(task.active=!task.active)},$(window).on("resize",function(){if(scope){if(scope.fluidFrameService.fullScreen){var height=window.innerHeight;height=estimatedFrameHeight(height),scope.fluidFrameService.isSearch?frameDiv.attr("style","height:"+frameHeight+"px;overflow:hidden"):element.attr("style","height:"+frameHeight+"px;overflow:hidden")}else{var height=window.innerHeight;height=estimatedFrameHeight(height);var frameHeight=height;scope.fluidFrameService.isSearch?frameDiv.attr("style","height:"+frameHeight+"px;overflow:auto"):element.attr("style","height:"+frameHeight+"px;overflow:auto")}$("body").attr("style","height: "+window.innerHeight+"px;overflow:hidden")}}),scope.initTask=function(task){task&&scope.$watch(function(){return task.active},function(newValue,oldValue){!0===newValue&&(task.onWindowOpening?task.onWindowOpened():task.active=!1)})}}}}]).directive("fluidResizeFrame",["$window",function($w){return{restrict:"A",link:function(scope,element,attr){var w=angular.element($w);attr.offset&&(scope.offset=attr.offset),w.bind("resize",function(){autoSizeFrame(element,scope.offset,w.height())}),autoSizeFrame(element,scope.offset,w.height())}}}]).directive("fluidFullscreenHeight",["$window",function($w){return{restrict:"A",link:function(scope,element,attr){var w=angular.element($w);attr.offset&&(scope.offset=attr.offset),w.bind("resize",function(){autoFullscreen(element,element.parent().height(),element.parent().width())})}}}]).service("fluidFrameHandler",["$timeout",function(t){function check(){console.info("fluidFrame-fluidFrameHandler.frames",frames),t(check,1e3)}this.frames=[];var frames=this.frames;return check(),this}]).factory("fluidFrameService",["Frame","fluidTaskService","FluidTask",function(Frame,taskService,FluidTask){var frameService=function(name){var frame=new Frame(name);return frame.openTask=function(taskName,workspace){taskService.findTaskByName(taskName).then(function(task){var index=frame.tasks.length;console.info("fluidFrame-fluidFrameService.task",task),task.fluidId=name+"_"+task.id+"_"+index;var fluidTask=new FluidTask(task);frame.tasks.push(fluidTask)})},frame.removeTask=function(task,workspace){console.info("fluidFrame-fluidFrameService.removeTask.task",task),angular.forEach(this.tasks,function(tsk,$index){tsk.fluidId===task.fluidId&&this.tasks.splice($index,1)},this)},frame};return frameService}]).provider("Frame",function(){this.$get=["$timeout","fluidFrameHandler","fluidStateService",function(t,fh,fts){var frame=function(name){if(name){var key=frameKey+name;if(null!=fh.frames[key])return fh.frames[key];this.name=name,this.fullScreen=!1,this.task=void 0,this.tasks=[],fh.frames[key]=this}};return frame}]}),angular.module("fluidHttp",["fluidSession"]).service("fluidHttpService",["$rootScope","$http","fluidLoaderService","$q","$timeout","sessionService",function(rs,h,fl,q,t,ss){return this.httpSerialKey=(new Date).getTime(),this.post=function(url,data,task){task.loaded=!1;var promise=null;this.host&&(url=this.host+url);var headers={"fluid-container-id":"_id_fpb_"+task.id,"Content-type":"application/json"};return task.currentPage&&(headers.method="post",headers.fluidPage=task.currentPage),void 0===data?(promise=h({method:"post",url:url,headers:headers}),promise.success(function(config){}),promise.error(function(data,status,headers,config){401===status?rs.$broadcast("NOT_AUTHENTICATED",data.msg):403===status&&rs.$broadcast(EVENT_NOT_ALLOWED+task.id,data.msg)}),promise.then(function(){task.loaded=!0}),promise):(promise=h({method:"post",url:url,data:data,headers:headers}),promise.success(function(config){this.httpSerialKey=(new Date).getTime()}),promise.error(function(data,status,headers,config){401===status?rs.$broadcast("NOT_AUTHENTICATED"):403===status&&rs.$broadcast("NOT_ALLOWED"),task.loaded=!0}),promise.then(function(){task.loaded=!0}),promise)},this.postGlobal=function(url,data){var promise=null;return this.host&&(url=this.host+url),promise=h(void 0===data?{method:"post",url:url}:{method:"post",url:url,data:data})},this.put=function(url,data,task){task.loaded=!1;var promise=null;this.host&&(url=this.host+url);var headers={"fluid-container-id":"_id_fpb_"+task.id,"Content-type":"application/json"};return task.currentPage&&(headers.method="put",headers.fluidPage=task.currentPage),void 0===data?(promise=h({method:"put",url:url,headers:headers}),promise.success(function(config){$("#_id_fpb_"+task.id).loadingOverlay("remove")}),promise.error(function(data,status,headers,config){$("#_id_fpb_"+task.id).loadingOverlay("remove"),401===status?rs.$broadcast("NOT_AUTHENTICATED",data.msg):403===status&&rs.$broadcast(EVENT_NOT_ALLOWED+task.id,data.msg)}),promise):(promise=h({method:"put",url:url,data:data,headers:headers}),promise.success(function(config){this.httpSerialKey=(new Date).getTime()}),promise.error(function(data,status,headers,config){401===status?rs.$broadcast("NOT_AUTHENTICATED"):403===status&&rs.$broadcast(EVENT_NOT_ALLOWED+task.id,data.msg),task.loaded=!0}),promise.then(function(){task.loaded=!0}),promise)},this.putGlobal=function(url,data){var promise=null;this.host&&(url=this.host+url);var headers={"Content-type":"application/json"};return void 0===data?(promise=h({method:"put",url:url,headers:headers}),promise.error(function(data,status,headers,config){401===status&&rs.$broadcast("NOT_AUTHENTICATED",data.msg)}),promise):(promise=h({method:"put",url:url,data:data,headers:headers}),promise.error(function(data,status,headers,config){401===status&&rs.$broadcast("NOT_AUTHENTICATED"),task.loaded=!0}),promise)},this.getLocal=function(url){this.host&&(url=this.host+url);var promise=h({method:"get",url:url});return promise.error(function(data,status,headers,config){401===status?rs.$broadcast("NOT_AUTHENTICATED",data.msg):403===status&&rs.$broadcast("NOT_ALLOWED",data.msg)}),promise},this.getGlobal=function(url,progress,cache){fl.enabled=progress,this.host&&(url=this.host+url);var promise=h({method:"get",url:url});return promise.error(function(data,status,headers,config){401===status?rs.$broadcast("NOT_AUTHENTICATED",data.msg):403===status&&rs.$broadcast("NOT_ALLOWED",data.msg)}),promise},this.get=function(url,task){task.loaded=!1,this.host&&(url=this.host+url);var headers={"Content-type":"application/json"};task.currentPage&&(headers.method="get",headers.fluidPage=task.currentPage);var key=url+this.httpSerialKey,sessionValue=ss.getSessionProperty(key);console.info("fluid-http-server-cache-session-value",sessionValue);var promise=h({method:"get",url:url,headers:headers});return promise.error(function(data,status,headers,config){401===status?rs.$broadcast("NOT_AUTHENTICATED",data.msg):403===status&&rs.$broadcast(EVENT_NOT_ALLOWED+task.id,data.msg)}),promise.then(function(){task.loaded=!0}),promise.success(function(data,status,headers,config,statusText){var response={};response.data=data,response.status=status,response.headers=headers,response.config=config,response.statusText=statusText,ss.addSessionProperty(key,response),console.info("fluid-http-server-new-session-key",key),console.info("fluid-http-server-new-session-value",data)}),promise},this["delete"]=function(url,task){task.loaded=!1,this.host&&(url=this.host+url);var headers={"fluid-container-id":"_id_fpb_"+task.id,"Content-type":"application/json"};task.currentPage&&(headers.method="delete",headers.fluidPage=task.currentPage);var promise=null;return promise=h({method:"delete",url:url,headers:headers}),promise.success(function(config){}),promise.error(function(data,status,headers,config){401===status?rs.$broadcast("NOT_AUTHENTICATED",data.msg):403===status&&rs.$broadcast(EVENT_NOT_ALLOWED+task.id,data.msg),task.loaded=!0}),promise.then(function(){task.loaded=!0}),promise},this.updateResource=function(url,data,task){var headers={"fluid-container-id":"_id_fpb_"+task.id,"Content-type":"application/json"};return task.currentPage&&(headers.method="get",headers.fluidPage=task.currentPage),console.log(url),void 0===data?(promise=h({method:"get",url:url,headers:headers}),promise.success(function(config){$("#_id_fpb_"+task.id).loadingOverlay("remove")}),promise.error(function(data,status,headers,config){
$("#_id_fpb_"+task.id).loadingOverlay("remove"),401===status?rs.$broadcast("NOT_AUTHENTICATED",data.msg):403===status&&rs.$broadcast(EVENT_NOT_ALLOWED+task.id,data.msg)}),promise):(promise=h({method:"get",url:url,data:data,headers:headers}),promise.success(function(config){task.loaded=!0}),promise.error(function(data,status,headers,config){task.loaded=!0,401===status?rs.$broadcast("NOT_AUTHENTICATED"):403===status&&rs.$broadcast(EVENT_NOT_ALLOWED+task.id,data.msg)}),promise.then(function(){task.loaded=!0}),promise)},this.headers=function(task){return{"fluid-container-id":"_id_fpb_"+task.id,"Content-type":"application/json"}},this.query=function(query,task){task&&(task.loaded=!1);var promise=h(query);return promise.error(function(data,status,headers,config){task&&(task.loaded=!0),401===status?rs.$broadcast("NOT_AUTHENTICATED"):403===status&&rs.$broadcast(EVENT_NOT_ALLOWED+task.id,data.msg)}),promise.then(function(){task&&(task.loaded=!0)}),promise},this.queryLocal=function(query){var promise=h(query);return promise.error(function(data,status,headers,config){401===status?rs.$broadcast("NOT_AUTHENTICATED"):403===status&&rs.$broadcast(EVENT_NOT_ALLOWED+task.id,data.msg)}),promise},this}]).service("fluidLoaderService",[function(){return this.loaded=!0,this.enabled=!0,this}]),angular.module("fluidMessage",[]).directive("fluidMessage",[function(){return{restrict:"AE",replace:!0,template:"<div></div>"}}]).service("fluidMessageService",["$timeout",function(t){var fluidMessageService={};return fluidMessageService.duration=1e3,fluidMessageService.info=function(id,message,duration){return fluidMessageService.id=id,fluidMessageService.message=message,fluidMessageService.alertType="alert alert-info",fluidMessageService.duration=duration,fluidMessageService},fluidMessageService.warning=function(id,message,duration){return fluidMessageService.id=id,fluidMessageService.message=message,fluidMessageService.alertType="alert alert-warning",fluidMessageService.duration=duration,fluidMessageService},fluidMessageService.danger=function(id,message,duration){return fluidMessageService.id=id,fluidMessageService.message=message,fluidMessageService.alertType="alert alert-danger",fluidMessageService.duration=duration,fluidMessageService},fluidMessageService.success=function(id,message,duration){return fluidMessageService.id=id,fluidMessageService.message=message,fluidMessageService.alertType="alert alert-success",fluidMessageService.duration=duration,fluidMessageService},fluidMessageService.open=function(){var messageId="#"+fluidMessageService.id,alerts=$(messageId).find("div[fluid-msg]").get(),index=0;alerts&&(index=alerts.length);var alertContainer=$(messageId).get(),alert=$("<div>").attr("fluid-msg",index).addClass(fluidMessageService.alertType).appendTo(alertContainer).get();$("<button>").attr("type","button").addClass("close icon-cross").attr("data-dismiss","alert").appendTo(alert).get(),$("<span>").html(fluidMessageService.message).appendTo(alert),t(function(){$(alert).remove()},fluidMessageService.duration)},fluidMessageService.close=function(messageId){$(messageId).find("p").html(""),$(messageId).removeClass(fluidMessageService.alertType),$(messageId).alert("close")},fluidMessageService}]),angular.module("fluidOption",[]).directive("fluidOption",["$templateCache","fluidOptionService","$window",function(tc,fos,w){return{restrict:"AE",scope:!1,replace:!0,transclude:!0,template:tc.get("templates/fluid/fluidOption.html"),link:function(scope,element,attr){scope.$watch(function(scope){return element.parent().height()},function(height){scope.parentHeight=height;var template=element.find(".fluid-option-template");template.css("width",element.parent().width()),element.css("width",element.parent().width())}),scope.close=function(){fos.closeOption(element.attr("id"))},$(w).on("resize",function(){var template=element.find(".fluid-option-template");template.css("width",element.parent().width()),element.css("width",element.parent().width())})}}}]).directive("fluidOptionTemplate",["$templateCache",function(tc){return{restrict:"E",scope:{scope:"@"},transclude:!0,link:function(s,element,attr){if(s.scope||(s.scope="task"),!attr.id)throw"fluidOptionTemplate ID is required.";var templateId=attr.id;console.info("fluidOptionTemplate.templateId",templateId),tc.put(templateId,element.html())},replace:!0,template:"<div ng-transclude style='display: none; position: absolute; height: 0px;width: 0px;padding: 0;margin: 0'></div>"}}]).factory("FluidOption",["fluidOptionService","$compile","$templateCache",function(fos,c,tc){var fluidOption=function(fluidPanel){return null!=fos.fluidOptions[fluidPanel.id]?(fos.fluidOptions[fluidPanel.id].$.removeClass("bg-info").removeClass("bg-warning").removeClass("bg-success").removeClass("bg-danger"),fos.fluidOptions[fluidPanel.id]):(this.fluidId=fluidPanel.id,this.$=$("#fluid_option_"+this.fluidId),this.open=function(template,source,page){console.info("FluidOption-openOption-source",source);var templateId=template,fluidOption=$("#fluid_option_"+this.fluidId),fluidScope=angular.element(fluidOption).scope(),fluidTemplate=fluidOption.find(".fluid-option-template"),fluidBottom=fluidOption.find(".fluid-option-bottom");if(source){var sourceID=$(source).attr("id");if(console.info("FluidOption-openOption-pre-sourceID",sourceID),sourceID){var eventSourceCount=$("[id*='_event_source_id']").length;sourceID="event_source_id_"+eventSourceCount,$(source).attr("id",sourceID)}else{var eventSourceCount=$("[id*='_event_source_id']").length;sourceID=fluidOption.attr("id")+"_event_source_id_"+eventSourceCount,$(source).attr("id",sourceID)}fluidOption.attr("source-event",sourceID)}console.info("FluidOption-openOption-sourceID",sourceID),fluidOption.css("max-height",fluidScope.parentHeight),fluidTemplate.css("max-height",fluidScope.parentHeight-15),fluidBottom.removeClass("hidden"),console.info("FluidOption-openOption.templateId",templateId);var html=tc.get(templateId);console.info("FluidOption-openOption.html",html),page?(console.info("fluidOption-FluidOption.page",page),console.info("fluidOption-FluidOption.pageScope",page.$scope),c(fluidTemplate.html(html))(page.$scope)):c(fluidTemplate.html(html))(fluidPanel.$scope),this.isOpen=!0},this.close=function(){var fluidOption=$("#fluid_option_"+this.fluidId),fluidTemplate=fluidOption.find(".fluid-option-template"),fluidBottom=fluidOption.find(".fluid-option-bottom");fluidOption.css("max-height",0),fluidTemplate.css("max-height",0),fluidOption.removeAttr("source-event"),fluidBottom.addClass("hidden"),this.isOpen=!1},this.info=function(){return this.$.addClass("bg-info"),this},this.danger=function(){return this.$.addClass("bg-danger"),this},this.success=function(){return this.$.addClass("bg-success"),this},this.warning=function(){return this.$.addClass("bg-warning"),this},this.isOpen=!1,this.isCancelled=!1,fos.fluidOptions[fluidPanel.id]=this,void 0)};return fluidOption}]).service("fluidOptionService",["$compile","$templateCache",function(c,tc){this.fluidOptions=[],this.clear=function(id){this.fluidOptions[id]=void 0},this.openOption=function(optionId,template,source){console.info("fluidOptionService-openOption-source",source);var fluidOption=$("#"+optionId),content=$("#"+template),fluidScope=angular.element(fluidOption).scope(),fluidTemplate=fluidOption.find(".fluid-option-template"),fluidBottom=fluidOption.find(".fluid-option-bottom"),contentScope=angular.element(content).scope(),sourceID=$(source).attr("id");if(console.info("fluidOptionService-openOption-pre-sourceID",sourceID),sourceID){var eventSourceCount=$("[id*='_event_source_id']").length;sourceID="event_source_id_"+eventSourceCount,$(source).attr("id",sourceID)}else{var eventSourceCount=$("[id*='_event_source_id']").length;sourceID=fluidOption.attr("id")+"_event_source_id_"+eventSourceCount,$(source).attr("id",sourceID)}if(console.info("fluidOptionService-openOption-sourceID",sourceID),fluidOption.css("max-height",fluidScope.parentHeight),fluidTemplate.css("max-height",fluidScope.parentHeight-15),fluidOption.attr("source-event",sourceID),fluidBottom.removeClass("hidden"),contentScope)c(fluidTemplate.html(content.html()))(contentScope);else{var page=fluidOption.parent().find(".fluid-page");page.ready(function(){var pageScope=angular.element(page).scope();console.info("fluidOption-fluidOptionService.page",page),console.info("fluidOption-fluidOptionService.pageScope",pageScope),c(fluidTemplate.html(content.html()))(pageScope)})}},this.closeOption=function(optionId){var fluidOption=$("#"+optionId),fluidTemplate=fluidOption.find(".fluid-option-template"),fluidBottom=fluidOption.find(".fluid-option-bottom");fluidOption.css("max-height",0),fluidTemplate.css("max-height",0),fluidOption.removeAttr("source-event"),fluidBottom.addClass("hidden")}}]),angular.module("fluidPage",["fluidHttp","fluidOption"]).directive("fluidPage",["$templateCache","fluidPageService","FluidPage","$compile","FluidBreadcrumb","FluidOption",function(tc,fps,FluidPage,c,FluidBreadcrumb,FluidOption){return{restrict:"E",scope:{page:"=",fluidPanel:"="},template:tc.get("templates/fluid/fluidPage.html"),link:{pre:function(scope,element,attr){scope.fluidPageService=fps,scope.loadPage=function(page){console.info("fluidPage-loadPage.page",page),scope.fluidPanel.loaded=!1,null!=scope.fluidPanel.pages[scope.page.name]?scope.fluidPage=scope.fluidPanel.pages[scope.page.name]:(scope.fluidPage=new FluidPage(page),scope.fluidPanel.pages[scope.page.name]=scope.fluidPage),scope.fluidPage.ajax?fps.loadAjax(scope.fluidPage).then(function(data){scope.data=data,element.html("<ng-include class='page' src='fluidPageService.render(fluidPage)' onload='onLoad()'></ng-include>"),element.attr("page-name",scope.fluidPage.name),c(element.contents())(scope),console.info("fluidPage-loadPage.loaded-page",scope.fluidPage)}):(element.html("<ng-include class='page' src='fluidPageService.render(fluidPage)' onload='onLoad()'></ng-include>"),element.attr("page-name",scope.fluidPage.name),c(element.contents())(scope),console.info("fluidPage-loadPage.loaded-page",scope.fluidPage))},console.info("fluidPage.fluidPanel",scope.fluidPanel),scope.$watch(function(scope){return scope.page},function(newPage,oldPage){scope.loadPage(newPage)})},post:function(scope,element,attr){scope.onLoad=function(){console.info("fluidPage-page-onload.fluidId",scope.fluidPanel.id),scope.fluidPage.fluidId=scope.fluidPanel.id,scope.fluidPage.$=element,scope.fluidPage.$scope=scope,scope.fluidPage.option=new FluidOption(scope.fluidPanel),scope.fluidPage.loaded=!1,scope.fluidPage.onLoad(),scope.fluidPanel.loaded=!0,scope.fluidPage.loaded=!0}}},replace:!0}}]).factory("FluidPage",["fluidPageService","$resource","$q","$timeout","$rootScope",function(fps,r,q,t,rs){var fluidPage=function(page){if(console.info("FluidPage-FluidPage.page",page),fps.pages[page.name])return fps.pages[page.name];if(page.ajax){if(!page.ajax.url)throw"Page ajax.url is required!";page.actions||(page.actions=[]),page.ajax.param||(page.ajax.param={}),this.resource=r(page.ajax.url,page.ajax.param,page.actions)}this.name=page.name,this.id=page.id,this.title=page.title,this["static"]=page["static"],this.html=page.html,this.home=page.home,this.ajax=page.ajax,this.refresh=function(proceed,cancel,$event){var page=this;this.onRefresh(function(){proceed(this),page.option&&(page.option.isCancelled=!1,page.option.close())},function(){cancel(),page.option&&(page.option.isCancelled=!0,page.option.close())},$event)},this.close=function(ok,cancel,$event){var page=this;this.onClose(function(){ok(),page.option&&(page.option.isCancelled=!1,page.option.close()),page.onDestroy()},function(){cancel(),page.option&&(page.option.isCancelled=!0,page.option.close())},$event)},this.change=function(proceed,cancel,$event){var page=this;this.onChange(function(){proceed(),page.option&&(page.option.isCancelled=!1,page.option.close())},function(){cancel(),page.option&&(page.option.isCancelled=!0,page.option.close())},$event)},this.failed=function(reason){rs.$broadcast("page_close_failed_evt"+this.fluidId+"_pg_"+this.name,reason)},this.onLoad=function(){return!0},this.onClose=function(ok,cancel){ok()},this.onChange=function(proceed,cancel,$event){proceed()},this.onRefresh=function(proceed,cancel,$event){proceed(this)},this.onDestroy=function(){},this.clear=function(){this.onDestroy(),fps.pages[this.name]=this["default"]};var def={};angular.copy(this,def),this["default"]=def,fps.pages[page.name]=this,console.info("fluidPage-FluidPageg-newPage.page",this)};return fluidPage}]).service("fluidPageService",["$templateCache","$q","$sce",function(tc,q,sce){return this.pages=[],this.loadAjax=function(fluidPage){return q(function(resolve,reject){if(fluidPage.ajax){var ajax=fluidPage.ajax;if(ajax.auto)if(ajax.isArray)var query=fluidPage.resource.query(function(){resolve(query)});else fluidPage.resource.get(function(data){resolve(data)});else resolve()}})},this.clear=function(page){this.pages[page]=void 0},this.renderPage=function(task,fluid){var page=task.page;return page["static"]?(page.home=fluid.getElementFlowId("template_"+page.name),tc.get(page.home)||tc.put(page.home,page.html)):page.ajax&&(tc.get(page.home)||(fhs.query(page.ajax,task).success(function(data){tc.put(page.ajax.url,data)}),page.home=page.ajax.url)),page},this.render=function(page){return page?(page["static"]?(page.home="template_"+page.id,tc.get(page.home)||tc.put(page.home,page.html)):page.ajax&&(tc.get(page.home)||(fhs.query(page.ajax,task).success(function(data){tc.put(page.ajax.url,data)}),page.home=page.ajax.url)),sce.trustAsUrl(page.home)):void 0},this}]),angular.module("fluidPanel",["oc.lazyLoad","fluidHttp","fluidFrame","fluidMessage","fluidOption","fluidSession","fluidTool","fluidPage","fluidTask","fluidTaskcontrols","fluidBreadcrumb"]).directive("fluidPanel",["fluidFrameService","fluidHttpService","$templateCache","$compile","fluidMessageService","$rootScope","$q","$timeout","$ocLazyLoad","sessionService","fluidOptionService","fluidPageService",function(f,f2,tc,c,ms,rs,q,t,oc,ss,fos,fps){return{scope:{task:"="},restrict:"E",template:tc.get("templates/fluid/fluidPanel.html"),replace:!0,link:{pre:function(scope,element){scope.pathRegexPattern=/{[\w|\d]*}/,scope.fluidPageService=fps,scope.generateUrl=function(url,param){isJson(param)&&(param=JSON.parse(param));for(var key in param)if(param.hasOwnProperty(key)){var reg=new RegExp("{"+key+"}","g");url=url.replace(reg,param[key])}return url},scope.fluidFrameService=f,scope.userTask={},scope.userTask.closed=!1,scope.fluid={},scope.filterPage=function(page){return void 0===page.showOnList||1==page.showOnList},scope.showList=function(){var result={count:0};return angular.forEach(scope.task.pages,function(page){page.showOnList&&this.count++},result),result.count>1},scope.toolbars=[{id:"showPageList",glyph:"fa fa-th-list",label:"Menu",disabled:!1,uiType:"success",action:function($event){if("sm"!==rs.viewport&&"xs"!==rs.viewport&&("lg"!==rs.viewport||f.fullScreen||50!==scope.task.size&&25!==scope.task.size))scope.task.showPageList=!scope.task.showPageList;else{var source=$event.currentTarget;console.info("showPageList-event",$event),fos.openOption(scope.fluid.getElementFlowId("fluid_option"),scope.fluid.getElementFlowId("pageList"),source)}},visible:function(){var result={count:0};return angular.forEach(scope.task.pages,function(page){page.showOnList&&this.count++},result),result.count>1}},{id:"home",glyph:"fa fa-home",label:"home",disabled:!1,uiType:"info",action:function(){scope.fluid.goToHome()}},{id:"back",glyph:"fa fa-arrow-left",label:"back",disabled:!0,uiType:"info",action:function(){if(scope.task.navPages.length>0&&scope.task.navPages.length>scope.currentPageIndex){var i=--scope.currentPageIndex,count=scope.task.navPages.length-(i+1),page=scope.task.navPages[i];scope.task.navPages.splice(i+1,count),scope.fluid.navTo(page.name)}else this.disabled=!0}},{id:"forward",glyph:"fa fa-arrow-right",label:"forward",disabled:!0,uiType:"info",action:function(){if(scope.task.navPages.length-1>scope.currentPageIndex){var page=scope.task.navPages[++scope.currentPageIndex];scope.fluid.navTo(page.name)}else this.disabled=!0}}],scope.fluid.openOption=function(templateId,$event){fos.openOption(scope.fluid.getElementFlowId("fluid_option"),templateId,$event.currentTarget)},scope.fluid.closeOption=function(){fos.closeOption(scope.fluid.getElementFlowId("fluid_option"))},scope.fluid.event={},scope.fluid.message={},scope.fluid.message.duration=3e3,scope.http={},scope.currentPageIndex=0,scope.fluid.onPageChanging=function(page,param){return!0},scope.fluid.onRefreshed=function(){},scope.fluid.onOpenPinned=function(page,param){},scope.fluid.navToTask=function(task){var $index={index:0};angular.forEach(f.taskList,function(tsk,index){tsk.id===task.id&&(this.index=index)},$index),t(function(){$(".frame-content").scrollTo($("div.panel[task]:eq("+$index.index+") div"),200)})},scope.fluid.openTaskBaseUrl="",scope.fluid.openTask=function(name,page,param,newTask,origin,size){var url=scope.fluid.openTaskBaseUrl;url+=size?"size="+size+"&":"size=100&",url+="active=true&name="+name,page&&(url+="&page="+page),param&&(url+="&page-path="+param),newTask&&(url+="&newTask="+newTask),f.addTask(url,origin?origin:scope.task,!0)};element.parent();scope.fluid.getHomeUrl=function(){return f2.host+scope.homeUrl},scope.fluid.getElementFlowId=function(id){return id+"_"+scope.task.id},scope.fluid.getEventId=function(id){return id+"_fp_"+scope.task.id},scope.fluid.event.getResizeEventId=function(){return scope.fluid.getEventId("rsz_evt_id_")},scope.fluid.event.getPageCallBackEventId=function(){return"task_fluid_page_call_back_event_id_"+scope.task.id},scope.fluid.event.getOnTaskLoadedEventId=function(){return scope.fluid.getEventId("on_ld_tsk_evt_id_")},scope.fluid.event.getGoToEventId=function(){return goToEventID+scope.task.id},scope.fluid.event.getRefreshId=function(){return scope.fluid.getEventId("tsk_rfh_id_")},scope.fluid.event.getSuccessEventId=function(){return scope.fluid.getEventId("suc_evt_id_")},scope.fluid.event.getErrorEventId=function(){return scope.fluid.getEventId("err_evt_id_")};var messageId=scope.fluid.getElementFlowId("pnl_msg");scope.fluid.message.info=function(msg){ms.info(messageId,msg,scope.fluid.message.duration).open()},scope.fluid.message.warning=function(msg){ms.warning(messageId,msg,scope.fluid.message.duration).open()},scope.fluid.message.danger=function(msg){ms.danger(messageId,msg,scope.fluid.message.duration).open()},scope.fluid.message.success=function(msg){ms.success(messageId,msg,scope.fluid.message.duration).open()},scope.fluid.controls=void 0,scope.http.get=function(url,param){return param&&(url.search(scope.pathRegexPattern)>0?url=scope.generateUrl(url,param):url+=param),f2.get(url,scope.task)},scope.http["delete"]=function(url,param){return param&&(url.search(scope.pathRegexPattern)>0?url=scope.generateUrl(url,param):url+=param),f2["delete"](url,scope.task)},scope.http.post=function(url,data,param){return param&&(url.search(scope.pathRegexPattern)>0?url=scope.generateUrl(url,param):url+=param),f2.post(url,data,scope.task)},scope.http.put=function(url,data,param){return param&&(url.search(scope.pathRegexPattern)>0?url=scope.generateUrl(url,param):url+=param),f2.put(url,data,scope.task)},scope.loadGet=function(){return rs.$$phase||scope.$apply(),scope.fluid.controls&&angular.forEach(scope.fluid.controls,function(control){control.pages&&scope.fluid.addControl(control,control.pages)}),scope.task.prevPage&&scope.task.prevPage.destroy&&scope.task.prevPage.destroy(),console.info("autoget-page",scope.task.page),q(function(resolve,reject){if(void 0!==scope.task.page&&null!==scope.task.page&&scope.task.page.autoGet&&scope.task.page.autoGet===!0){scope.task.currentPage=scope.task.page.name;var url=scope.homeUrl;scope.task.page.getParam&&(url=scope.homeUrl.search(scope.pathRegexPattern)>0?scope.generateUrl(scope.homeUrl,scope.task.page.getParam):scope.homeUrl+scope.task.page.getParam),console.info("auto-get-url",url),f2.get(url,scope.task).success(function(data){console.info("autoget",data),resolve({page:scope.task.page.name,value:data})})}else void 0===scope.task.page||null===scope.task.page||scope.task.page.autoGet&&null!==scope.task.page.autoGet&&scope.task.page.autoGet!==!1||(scope.task.currentPage=scope.task.page.name,console.info("autoget false",!1),resolve({page:scope.task.page.name}))}).then(function(data){scope.task.pageLoaded=!0;var pagePanel=element.find(".fluid-panel-page");console.info("page-panel",pagePanel),console.info("page-panel-task",scope.task),pagePanel.ready(function(){t(function(){scope.task.pinned?(scope.task.loaded=!0,scope.fluid.onOpenPinned(scope.task.page,scope.task.pageParam)):!scope.task.page.load&&scope.fluid.pageCallBack?(scope.fluid.pageCallBack(data.page,data.value),rs.$$phase||scope.$apply(),scope.task.loaded=!0):(scope.task.page.load&&scope.task.page.load(data.value),rs.$$phase||scope.$apply(),scope.task.loaded=!0)},400)})})},scope.fluid.addControl=function(control,pageName){var exists=!1;if(angular.forEach(scope.toolbars,function(ctl){control.id===ctl.id&&(exists=!0)}),Array.isArray(pageName)){var index=pageName.indexOf(scope.task.page.name);if(index>-1)exists||scope.toolbars.push(control);else if(exists)for(var t=scope.toolbars.length-1;t>0;t--){var toolbar=scope.toolbars[t];toolbar.id===control.id&&scope.toolbars.splice(t,1)}}else if(scope.task.page.name===pageName)exists||scope.toolbars.push(control);else if(exists)for(var t=scope.toolbars.length-1;t>0;t--){var toolbar=scope.toolbars[t];if(toolbar.id===control.id){scope.toolbars.splice(t,1);break}}},scope.navToPage=function(name){return q(function(resolve){angular.forEach(scope.task.navPages,function(page){if(name===page.name){scope.task.prevPage=scope.task.page,scope.task.page=page;var uri=page.get;void 0!==scope.task.page.param&&null!=scope.task.page.param&&(uri.search(scope.pathRegexPattern)>0?uri=scope.generateUrl(uri,scope.task.page.param):uri+=scope.task.page.param),scope.homeUrl=uri;for(var i=0;i<scope.task.navPages.length;i++)if(scope.task.navPages[i].name===name){scope.currentPageIndex=i;break}for(var i=0;i<scope.toolbars.length;i++)"back"===scope.toolbars[i].id&&(scope.toolbars[i].disabled=!(scope.currentPageIndex>0)),"forward"===scope.toolbars[i].id&&(scope.toolbars[i].disabled=!(scope.currentPageIndex<scope.task.navPages.length-1));resolve()}})})},scope.fluid.navTo=function(name){return scope.fluid.onPageChanging(name)?scope.navToPage(name).then(scope.loadGet()):void 0},scope.getToPage=function(name,param){return console.info("getToPage",scope.task.pages),q(function(resolve,reject){angular.forEach(scope.task.pages,function(page){if(name===page.name){scope.task.prevPage={},angular.copy(scope.task.page,scope.task.prevPage),scope.task.page=page;var uri=page.get;void 0!==param&&"null"!==param?(page.param=param,uri.search(scope.pathRegexPattern)>0?uri=scope.generateUrl(uri,param):uri+=param):page.param&&(uri.search(scope.pathRegexPattern)>0?uri=scope.generateUrl(uri,param):uri+=param),scope.homeUrl=uri,scope.task.pinned===!0&&(scope.userTask.page=scope.task.page.name,scope.userTask.param=scope.task.page.param,scope.task.generic===!1&&-1===scope.task.id.indexOf("gen")&&(scope.userTask.fluidTaskId=scope.task.id.split("_")[0],scope.userTask.fluidId=scope.task.fluidId,scope.userTask.pinned=scope.task.pinned,f2.post("services/fluid_user_task_crud/save_task_state?field=pin",scope.userTask,scope.task)));for(var contains=!1,i=0;i<scope.task.navPages.length;i++)if(scope.task.navPages[i].name===name){contains=!0,scope.currentPageIndex=i;break}contains===!1&&(scope.task.navPages.push(page),scope.currentPageIndex=scope.task.navPages.length-1);for(var i=0;i<scope.toolbars.length;i++)"back"===scope.toolbars[i].id&&(scope.toolbars[i].disabled=!(scope.currentPageIndex>0)),"forward"===scope.toolbars[i].id&&(scope.toolbars[i].disabled=!(scope.currentPageIndex<scope.task.navPages.length-1));resolve()}})})},scope.fluid.goTo=function(name,param){return console.info("goTo",name),scope.fluid.onPageChanging(name,param)?scope.getToPage(name,param).then(scope.loadGet()):void 0},scope.$watch(function(scope){return scope.task.currentPage},function(newValue){newValue&&scope.fluid.goTo(newValue.name,newValue.param)}),scope.fluid.action=function(method,data,param){if(method){var uri="";"put"===method.toLowerCase()?(uri=scope.task.page.put,void 0!==param&&"null"!==param&&(uri.search(scope.pathRegexPattern)>0?uri=scope.generateUrl(uri,param):uri+=param),f2.put(uri,data,scope.task).success(function(rv){rs.$broadcast(scope.fluid.event.getSuccessEventId(),rv,method)}).error(function(data){scope.fluid.message.danger(data?data.msg:"Error creating request to "+uri),rs.$broadcast(scope.fluid.event.getErrorEventId(),data,method)})):"get"===method.toLowerCase()?(uri=scope.task.page.get,void 0!==param&&"null"!==param&&(uri.search(scope.pathRegexPattern)>0?uri=scope.generateUrl(uri,param):uri+=param),f2.get(uri,scope.task).success(function(rv){rv&&rv.msg&&scope.fluid.message.success(rv.msg),rs.$broadcast(scope.fluid.event.getSuccessEventId(),rv,method)}).error(function(data){data&&scope.fluid.message.danger(data.msg),rs.$broadcast(scope.fluid.event.getErrorEventId(),data,method)})):"delete"===method.toLowerCase()?(uri=scope.task.page.delURL,void 0!==param&&"null"!==param&&(uri.search(scope.pathRegexPattern)>0?uri=scope.generateUrl(uri,param):uri+=param),f2["delete"](uri,scope.task).success(function(rv){rv&&(rv&&rv.msg&&scope.fluid.message.success(rv.msg),rs.$broadcast(scope.fluid.event.getSuccessEventId(),rv,method))}).error(function(data){data&&scope.fluid.message.danger(data.msg),rs.$broadcast(scope.fluid.event.getErrorEventId(),data,method)})):"post"===method.toLowerCase()&&(uri=scope.task.page.post,void 0!==param&&"null"!==param&&(uri.search(scope.pathRegexPattern)>0?uri=scope.generateUrl(uri,param):uri+=param),f2.post(uri,data,scope.task).success(function(rv){rv&&rv.msg&&scope.fluid.message.success(rv.msg),rs.$broadcast(scope.fluid.event.getSuccessEventId(),rv,method)}).error(function(data){data&&scope.fluid.message.danger(data.msg),rs.$broadcast(scope.fluid.event.getErrorEventId(),data,method)}))}},scope.fluid.goToHome=function(){angular.forEach(scope.task.pages,function(page){if(page.isHome){scope.task.page=page,scope.homeUrl=page.get,page.param&&(scope.homeUrl=scope.homeUrl+page.param);for(var i=0;i<scope.toolbars.length;i++)"back"===scope.toolbars[i].id&&(scope.toolbars[i].disabled=!0),"forward"===scope.toolbars[i].id&&(scope.toolbars[i].disabled=!0);scope.currentPageIndex=0,scope.task.navPages=[page],scope.loadGet()}})},scope.$watch(function(scope){return scope.task},function(task){if(task&&task.generic){scope.task.page=void 0;var taskUrl=scope.task.url,taskId=void 0;if(scope.task.url)if(scope.baseTask=ss.getSessionProperty(scope.task.url),scope.baseTask){console.info("fluid-panel-base-task-cache",scope.baseTask);var newTask=scope.task.newTask,$task={};scope.copy={},angular.copy(scope.task,scope.copy),console.info("fluid-panel-cache-task",scope.baseTask),taskId=scope.baseTask.id,f.fullScreen?(scope.task=f.buildTask(scope.baseTask),scope.task.id="fullscreen_"+scope.baseTask.id):(angular.forEach(f.taskList,function(task,key){task.id===scope.task.id&&(this.task=task,this.index=key)},$task),f.taskList[$task.index]=f.buildTask(scope.baseTask),f.taskList[$task.index].id=f.taskList[$task.index].id+"_"+$task.index,f.taskList[$task.index].origin=scope.task.origin,scope.task=f.taskList[$task.index]),scope.task.generic=!1,scope.task.newTask=newTask,scope.task.fluidHttpService=f2}else console.info("fluid-panel-base-task-new",scope.baseTask),f2.get(scope.task.url,scope.task).success(function(d){ss.addSessionProperty(scope.task.url,d);var newTask=scope.task.newTask,$task={};scope.copy={},angular.copy(scope.task,scope.copy),console.info("generated-taskp",d),taskId=d.id,f.fullScreen?(scope.task=f.buildTask(d),scope.task.id="fullscreen_"+d.id):(angular.forEach(f.taskList,function(task,key){task.id===scope.task.id&&(this.task=task,this.index=key)},$task),f.taskList[$task.index]=f.buildTask(d),f.taskList[$task.index].id=f.taskList[$task.index].id+"_"+$task.index,f.taskList[$task.index].origin=scope.task.origin,scope.task=f.taskList[$task.index]),scope.task.generic=!1,scope.task.newTask=newTask,scope.task.fluidHttpService=f2,console.info("task-initialization-finished",scope.task),console.info("generated-task-pages",scope.task.pages)});else{scope.baseTask=scope.task;var newTask=scope.task.newTask,$task={};scope.copy={},angular.copy(scope.task,scope.copy),taskId=scope.baseTask.id,f.fullScreen?(scope.task=f.buildTask(scope.baseTask),scope.task.id="fullscreen_"+scope.baseTask.id):(angular.forEach(f.taskList,function(task,key){task.id===scope.task.id&&(this.task=task,this.index=key)},$task),f.taskList[$task.index]=f.buildTask(scope.baseTask),f.taskList[$task.index].id=f.taskList[$task.index].id+"_"+$task.index,f.taskList[$task.index].origin=scope.task.origin,scope.task=f.taskList[$task.index]),scope.task.generic=!1,scope.task.newTask=newTask,scope.task.fluidHttpService=f2}scope.task.signature={id:taskId,url:taskUrl}}})},post:function(scope,element){var parent=element.parent();scope.$on(scope.fluid.getEventId("navTo"),function(event,name){scope.fluid.navTo(name)}),scope.$on(scope.fluid.getEventId("selectPage"),function(event,name){for(var i=scope.currentPageIndex,index=0;i<scope.task.navPages.length;i++)if(scope.task.navPages[index].name==name){i=index;break}var count=scope.task.navPages.length-(i+1),page=scope.task.navPages[i];scope.task.navPages.splice(i+1,count),scope.fluid.navTo(name),scope.task.page=page}),scope.$on(scope.fluid.event.getGoToEventId(),function(event,name,param){scope.fluid.goTo(name,param)}),scope.$on(scope.fluid.event.getOnTaskLoadedEventId(),function(event){}),scope.$on(EVENT_NOT_ALLOWED+scope.task.id,function(event,msg){scope.fluid.message.danger(msg),angular.forEach(scope.task.navPages,function(page,key){page.name===scope.task.navPages.name&&(scope.task.navPages.splice(key,1),scope.fluid.goTo(scope.task.prevPage.name))})}),scope.$watch(function(scope){return scope.task?scope.task:void 0},function(task){if(task){if(task.generic===!1){if(task.lazyLoad===!0){var pathArr=void 0;task.moduleFiles.indexOf(",")>0&&(pathArr=task.moduleFiles.split(","));var files=[];if(pathArr)for(var i=0;i<pathArr.length;i++)files.push(pathArr[i]);else files.push(task.moduleFiles);oc.load({name:task.moduleJS,files:files,cache:!0}).then(function(){t(function(){generateTask(scope,t,f2)})})}else t(function(){generateTask(scope,t,f2)});scope.task.refresh=function(){scope.task.page.autoGet?(scope.task.loaded=!1,f2.get(scope.homeUrl,scope.task).success(function(data){scope.task.page.load&&scope.task.page.load(data,"refresh"),scope.fluid.pageCallBack&&scope.fluid.pageCallBack(scope.task.page.name,data,"refresh"),scope.task.loaded=!0}).error(function(data){scope.task.loaded=!0})):(rs.$broadcast(scope.fluid.event.getRefreshId()),scope.fluid.onRefreshed())},scope.task.max25=function(clientState){scope.task.size=25,parent.removeClass("col-lg-12"),parent.removeClass("col-lg-9"),parent.removeClass("col-lg-6"),parent.addClass("col-lg-3"),task.showPageList=!1,(void 0===clientState||clientState===!1)&&(scope.task.page&&scope.task&&rs.$broadcast(scope.fluid.event.getResizeEventId(),scope.task.page.name,scope.task.size),scope.userTask.size=scope.task.size,scope.task.stateAjax?saveTaskSate(scope.task,scope.userTask,f2,"size").then(function(){generateTask(scope,t,f2)}):generateTask(scope,t,f2))},scope.task.max50=function(clientState){scope.task.size=50,parent.removeClass("col-lg-12"),parent.removeClass("col-lg-9"),parent.removeClass("col-lg-3"),parent.addClass("col-lg-6"),task.showPageList=!1,(void 0===clientState||clientState===!1)&&(scope.task.page&&scope.task&&rs.$broadcast(scope.fluid.event.getResizeEventId(),scope.task.page.name,scope.task.size),scope.userTask.size=scope.task.size,scope.task.stateAjax?saveTaskSate(scope.task,scope.userTask,f2,"size").then(function(){generateTask(scope,t,f2);

}):generateTask(scope,t,f2))},scope.task.max75=function(clientState){scope.task.size=75,parent.removeClass("col-lg-12"),parent.removeClass("col-lg-6"),parent.removeClass("col-lg-3"),parent.addClass("col-lg-9"),(void 0===clientState||clientState===!1)&&(scope.task.page&&scope.task&&rs.$broadcast(scope.fluid.event.getResizeEventId(),scope.task.page.name,scope.task.size),scope.userTask.size=scope.task.size,scope.task.stateAjax?saveTaskSate(scope.task,scope.userTask,f2,"size").then(function(){generateTask(scope,t,f2)}):generateTask(scope,t,f2))},scope.task.max100=function(clientState){scope.task.size=100,parent.removeClass("col-lg-9"),parent.removeClass("col-lg-6"),parent.removeClass("col-lg-3"),parent.addClass("col-lg-12"),(void 0===clientState||clientState===!1)&&(scope.task.page&&scope.task&&rs.$broadcast(scope.fluid.event.getResizeEventId(),scope.task.page.name,scope.task.size),scope.userTask.size=scope.task.size,scope.task.stateAjax?saveTaskSate(scope.task,scope.userTask,f2,"size").then(function(){generateTask(scope,t,f2)}):generateTask(scope,t,f2))},scope.task.hide=function(){scope.task.onWindowHiding(scope.task.page)&&(scope.fluidFrameService.fullScreen&&scope.task.fluidScreen(),scope.task.active=!1,scope.userTask.active=scope.task.active,scope.task.stateAjax&&saveTaskSate(scope.task,scope.userTask,f2,"active"))},scope.task.close=function(){if(scope.task.onWindowClosing(scope.task.page))if(scope.task.stateAjax)saveTaskSate(scope.task,scope.userTask,f2,"close").then(function(){for(var i=0;i<f.taskList.length;i++){var task=f.taskList[i];scope.task.id===task.id&&f.taskList.splice(i,1),scope.fluidFrameService.fullScreen&&scope.task.fluidScreen(),rs.$$phase||scope.$apply()}scope.$destroy()});else{for(var i=0;i<f.taskList.length;i++){var task=f.taskList[i];scope.task.id===task.id&&f.taskList.splice(i,1),scope.fluidFrameService.fullScreen&&scope.task.fluidScreen(),rs.$$phase||scope.$apply()}scope.$destroy()}},scope.task.pin=function(){scope.task.pinned=!scope.task.pinned,scope.task.pinned===!0?(scope.userTask.page=scope.task.page.name,scope.userTask.param=scope.task.page.param,scope.task.onWindowPinned(scope.task.page)):(scope.userTask.page="",scope.userTask.param=""),scope.task.stateAjax&&(scope.userTask.fluidId=scope.task.fluidId,scope.userTask.pinned=scope.task.pinned,saveTaskSate(scope.task,scope.userTask,f2,"pin"))},scope.task.fullScreen=function(){f.toggleFullscreen(scope.task),rs.$$phase||scope.$apply(),task.showPageList=!1},scope.task.fluidScreen=function(){f.toggleFluidscreen(),rs.$$phase||scope.$apply()},scope.task&&!scope.fluidFrameService.fullscreen&&scope.task.size&&("25"==scope.task.size?scope.task.max25(!0):"50"==scope.task.size?scope.task.max50(!0):"75"==scope.task.size?scope.task.max75(!0):"100"==scope.task.size&&scope.task.max100(!0))}scope.task.open=function(index){scope.task.active?$(".frame-content").scrollTo($("div.panel[task]:eq("+index+")"),200):(scope.task.active=!0,t($(".frame-content").scrollTo($("div.panel[task]:eq("+index+")"),200),300))},scope.fluidFrameService.fullScreen&&(parent.addClass("col-lg-12"),parent.removeClass("col-lg-9"),parent.removeClass("col-lg-3"),parent.removeClass("col-lg-6"))}}),scope.$watch(function(scope){return!scope.task.generic&&scope.fluidFrameService.fullScreen},function(fullScreen){if(fullScreen&&autoSizePanel(scope.task),scope.task.generic===!1){scope.task.loaded=!1;var loadGetFn=function(){scope.task&&(scope.task.preLoad(),scope.task.preLoaded=!0,scope.loadGet(),scope.task.preLoaded&&(scope.task.load(),scope.task.loaded=!0),scope.task.postLoad())};t(loadGetFn,500)}}),scope.$watch(function(scope){return scope.task.showToolBar},function(toolbar){console.info("toolbar",toolbar),console.info("toolbar.fullScreen",scope.fluidFrameService.fullScreen),scope.fluidFrameService.fullScreen&&autoSizePanel(scope.task)}),$(window).on("resize",function(){if(scope){scope.fluidFrameService.fullScreen&&(scope.fluidFrameService.getFrame().css("overflow","hidden"),autoSizePanel(scope.task));var viewport=rs.viewport;"xs"===viewport?scope&&(scope.task.showPageList=!1,rs.$$phase||scope.$apply()):"sm"===viewport?scope&&(scope.task.showPageList=!1,rs.$$phase||scope.$apply()):"md"===viewport?scope&&fos.closeOption(scope.fluid.getElementFlowId("fluid_option")):"lg"===viewport&&scope&&fos.closeOption(scope.fluid.getElementFlowId("fluid_option"))}}),element.ajaxStart(function(){t(function(){scope.task.loaded=!1,console.info("ajax-"+scope.task.name+"started:",scope.task)})}),element.ajaxStop(function(){t(function(){scope.task.loaded=!0,console.info("ajax-"+scope.task.name+"stopped:",scope.task)})})}}}}]).directive("fluidTaskIcon",["$templateCache",function(tc){return{restrict:"AE",scope:!1,link:function(scope,element,attr){attr.height&&(scope.height=attr.height),attr.width&&(scope.width=attr.width)},template:tc.get("templates/fluid/fluidTaskIcon.html"),replace:!0}}]).directive("fluidLoader",["$templateCache",function(tc){return{restrict:"AE",scope:!1,template:tc.get("templates/fluid/fluidLoader.html"),replace:!0}}]).directive("fluidPanel2",["$templateCache","FluidPanelModel","fluidToolbarService","$ocLazyLoad","$compile","fluidPanelService","fluidFrameService",function(tc,FluidPanel,ftb,oc,c,fluidPanelService,FluidFrame){return{require:"^fluidFrame2",scope:{task:"=",frame:"@"},restrict:"E",replace:!0,template:tc.get("templates/fluid/fluidPanel2.html"),link:{pre:function(scope,element,attr){if(scope.loaded=function(){scope.fluidPanel.frame.fullScreen&&autoFullscreen(element,element.parent().innerHeight(),element.parent().innerWidth()),scope.fluidPanel.loaders&&(console.info("fluidPanel-fluidPanel2.fluidPanel.loaders",scope.fluidPanel.loaders),angular.forEach(scope.fluidPanel.loaders,function(load,$index){load(this)},scope.fluidPanel))},scope.fluidPanel=void 0,scope.task.lazyLoad){var pathArr=void 0;scope.task.moduleFiles.indexOf(",")>0&&(pathArr=scope.task.moduleFiles.split(","));var files=[];if(pathArr)for(var i=0;i<pathArr.length;i++)files.push(pathArr[i]);else files.push(scope.task.moduleFiles);oc.load({name:scope.task.moduleJS,files:files,cache:!0}).then(function(){scope.fluidPanel=new FluidPanel(scope.task),scope.fluidPanel.loaded=!1,scope.fluidPanel.frame=new FluidFrame(scope.frame),scope.$watch(function(scope){return scope.fluidPanel.loaded},function(loaded){loaded&&scope.loaded()})})}else scope.fluidPanel=new FluidPanel(scope.task),scope.fluidPanel.loaded=!1,scope.fluidPanel.frame=new FluidFrame(scope.frame),scope.$watch(function(scope){return scope.fluidPanel.loaded},function(loaded){loaded&&loaded&&scope.loaded()});scope.setSize=function(size){switch(console.info("fluidPanel2-setSize.size",size),size){case 25:element.addClass("col-lg-3"),element.removeClass("col-lg-6"),element.removeClass("col-lg-9"),element.removeClass("col-lg-12");break;case 50:element.addClass("col-lg-6"),element.removeClass("col-lg-3"),element.removeClass("col-lg-9"),element.removeClass("col-lg-12");break;case 75:element.addClass("col-lg-9"),element.removeClass("col-lg-3"),element.removeClass("col-lg-6"),element.removeClass("col-lg-12");break;case 100:element.addClass("col-lg-12"),element.removeClass("col-lg-3"),element.removeClass("col-lg-6"),element.removeClass("col-lg-9");break;default:element.addClass("col-lg-12"),element.removeClass("col-lg-3"),element.removeClass("col-lg-6"),element.removeClass("col-lg-9")}},scope.$watch(function(scope){return scope.task.size},function(newSize,oldSize){scope.setSize(newSize)})},post:function(scope,element,attr){scope.getElementFlowId=function(id){return id+"_"+scope.fluidPanel.id},scope.$on("$destroy",function(){scope.fluidPanel.destroy&&fluidPanelService.clear(scope.fluidPanel.id)})}}}}]).directive("id",[function(){return{restrict:"A",scope:!1,link:function(scope,element,attr){scope.task?element.attr("id",attr.id+"_"+scope.task.fluidId):scope.fluidPanel&&element.attr("id",attr.id+"_"+scope.fluidPanel.id)}}}]).factory("FluidPanelModel",["TaskControl","ToolBarItem","fluidPanelService","fluidTaskService","FluidBreadcrumb","FluidPage","$q","fluidFrameService",function(TaskControl,ToolBarItem,fluidPanelService,TaskService,FluidBreadcrumb,FluidPage,q,FluidFrame){var fluidPanel=function(task){if(null!=fluidPanelService.fluidPanel[task.fluidId])return fluidPanelService.fluidPanel[task.fluidId];this.pages=[],this.id=task.fluidId,this.$=$("div#_id_fp_"+this.id),this.$scope=angular.element(this.$).scope(),this.goTo=function(name,$event){var pg=this.pages[name];if(null!=pg){var fluidBreadcrumb=new FluidBreadcrumb(this),currentPage=this.pages[fluidBreadcrumb.currentPage()];null!=currentPage?currentPage.change(function(){fluidBreadcrumb.addPage(pg)},function(){},$event):fluidBreadcrumb.addPage(pg)}else angular.forEach(task.pages,function(page){if(page.name===name){var fluidPage=new FluidPage(page),fluidBreadcrumb=new FluidBreadcrumb(this),currentPage=this.pages[fluidBreadcrumb.currentPage()];this.pages[name]=fluidPage,null!=currentPage?currentPage.change(function(){fluidBreadcrumb.addPage(page)},function(){},$event):fluidBreadcrumb.addPage(page)}},this)},this.getPage=function(name){return this.pages[name]},this.prevPage=function($event){var fluidBreadcrumb=new FluidBreadcrumb(this),page=this.pages[fluidBreadcrumb.currentPage()];page.change(function(){fluidBreadcrumb.previous()},function(){},$event)},this.nextPage=function($event){var fluidBreadcrumb=new FluidBreadcrumb(this),page=this.pages[fluidBreadcrumb.currentPage()];page.change(function(){fluidBreadcrumb.next()},function(){},$event)},this.page?task.pages&&angular.forEach(task.pages,function(page){this.page===page.name&&this.goTo(page.name)},this):task.pages&&angular.forEach(task.pages,function(page){page.isHome&&this.goTo(page.name)},this);var closeControl=new TaskControl(this);closeControl.setId("closePanel"),closeControl.glyph="fa fa-close",closeControl.uiClass="btn btn-danger",closeControl.label="Close",closeControl.action=function(task,$event){this.fluidPanel.close(task,$event)};var expandControl=new TaskControl(this);expandControl.setId("expandPanel"),expandControl.glyph="fa fa-expand",expandControl.uiClass="btn btn-info",expandControl.label="Expand",expandControl.action=function(task,$event){this.fluidPanel.frame.fullScreen=!0,this.fluidPanel.frame.task=task},expandControl.visible=function(){return!this.fluidPanel.frame.fullScreen};var fluidScreenControl=new TaskControl(this);fluidScreenControl.setId("fluidPanel"),fluidScreenControl.glyph="fa fa-compress",fluidScreenControl.uiClass="btn btn-info",fluidScreenControl.label="Fluid",fluidScreenControl.action=function(task,$event){this.fluidPanel.frame.fullScreen=!1,this.fluidPanel.frame.task=void 0},fluidScreenControl.visible=function(){return this.fluidPanel.frame.fullScreen};var minimizeControl=new TaskControl(this);minimizeControl.setId("minimizePanel"),minimizeControl.glyph="fa fa-caret-down",minimizeControl.uiClass="btn btn-info",minimizeControl.label="Minimize",minimizeControl.action=function(task,$event){task.active=!1},minimizeControl.visible=function(){return!this.fluidPanel.frame.fullScreen};var homeToolBarItem=new ToolBarItem(this);homeToolBarItem.glyph="fa fa-home",homeToolBarItem.uiClass="btn btn-info",homeToolBarItem.label="Home",homeToolBarItem.action=function(task,$event){task.pages&&angular.forEach(task.pages,function(page){page.isHome&&this.goTo(page.name,$event)},this.fluidPanel)};var backToolBarItem=new ToolBarItem(this);backToolBarItem.glyph="fa fa-arrow-left",backToolBarItem.uiClass="btn btn-info",backToolBarItem.label="Back",backToolBarItem.action=function(task,$event){this.fluidPanel.prevPage($event)},backToolBarItem.disabled=function(){var fluidBreadcrumb=new FluidBreadcrumb(this.fluidPanel);return!fluidBreadcrumb.hasPrevious()};var nextToolBarItem=new ToolBarItem(this);nextToolBarItem.glyph="fa fa-arrow-right",nextToolBarItem.uiClass="btn btn-info",nextToolBarItem.label="Next",nextToolBarItem.action=function(task,$event){this.fluidPanel.nextPage($event)},nextToolBarItem.disabled=function(){var fluidBreadcrumb=new FluidBreadcrumb(this.fluidPanel);return!fluidBreadcrumb.hasNext()};var refreshToolBarItem=new ToolBarItem(this);refreshToolBarItem.glyph="fa fa-refresh",refreshToolBarItem.uiClass="btn btn-info",refreshToolBarItem.label="Refresh",refreshToolBarItem.action=function(task,$event){var page=this.fluidPanel.getPage(this.fluidPanel.fluidBreadcrumb.currentPage());console.info("fluidPanel-fluidPanelModal-refresh.page",page),page.refresh(page.$scope.loadPage,function(){},$event)};var panel=this;task.resource&&task.resource.$get({fluidId:task.fluidId},function(taskResource){panel.resource=taskResource}),this.fluidBreadcrumb=new FluidBreadcrumb(this),this.fluidBreadcrumb.close=function(page,$index,$event){var previous=this.current;this.current=$index;var breadcrumb=this,pages=this.pages,fluidPage=new FluidPage(panel.pages[page]);fluidPage.option.returnToPrevious=function(){breadcrumb.current=previous},fluidPage.close(function(data){pages.splice($index,1),breadcrumb.current>$index?breadcrumb.current-=1:breadcrumb.current===$index&&(breadcrumb.current-=1)},function(){breadcrumb.current=previous},$event)},this.fluidBreadcrumb.open=function(page,$index,$event){panel.goTo(page,$event)},fluidPanelService.fluidPanel[this.id]=this,this.close=function(task,$event){function closePage($index){var pageName=reversedPages[$index],$bIndex=bPages.indexOf(pageName),previous=breadcrumb.current;breadcrumb.current=$bIndex,console.info("fluidPanel-FluidPanelModel-closePage.$index",$index),console.info("fluidPanel-FluidPanelModel-closePage.$bIndex",$bIndex),console.info("fluidPanel-FluidPanelModel-closePage.$bIndex",previous);var fluidPage=new FluidPage(pages[pageName]);console.info("fluidPanel-FluidPanelModel-closePage.fluidPage",fluidPage),$length>$index?fluidPage.close(function(data){0===$bIndex?(panel.frame.fullScreen=!1,panel.frame.removeTask(task),panel.destroy=!0):(bPages.splice($bIndex,1),breadcrumb.current>$bIndex?breadcrumb.current-=1:breadcrumb.current===$bIndex&&(breadcrumb.current-=1),$index++,closePage($index))},function(){breadcrumb.current=previous},$event):task.active=!1}var breadcrumb=this.fluidBreadcrumb,bPages=this.fluidBreadcrumb.pages,pages=this.pages,reversedPages=angular.copy(bPages,reversedPages);reversedPages.reverse();var $length=reversedPages.length;closePage(0)},this.clear=function(){angular.forEach(this.pages,function(page,$index){page.clear(),this.pages.length-1===$index&&this.pages.clear()},this)},this.whenLoaded=function(loadedAction){this.loaders||(this.loaders=[]),this.loaders.push(loadedAction)}};return fluidPanel}]).service("fluidPanelService",["$timeout",function(t){function check(){console.info("fluidPanel-fluidPanelService.fluidPanel",fluidPanel),t(check,1e3)}this.fluidPanel=[],this.clear=function(id){this.fluidPanel[id].clear(),this.fluidPanel[id]=void 0};var fluidPanel=this.fluidPanel;return check(),this}]),angular.module("fluidSession",["LocalStorageModule"]).service("sessionService",["localStorageService",function(ls){this.isSessionSupported=ls.isSupported,this.type=function(){return this.isSessionSupported?"session storage":"cookie storage"},this.isSessionOpened=function(){return null!==ls.get(AUTHORIZATION)},this.containsKey=function(key){return!!this.getSessionProperty(key)},this.addSessionProperty=function(key,value){this.isSessionSupported?ls.set(key,value):ls.cookie.set(key,value)},this.getSessionProperty=function(key){return this.isSessionSupported?ls.get(key):ls.cookie.get(key)},this.login=function(username,password,remember){var base64=window.btoa(username+":"+password);this.addSessionProperty("remember",remember),this.addSessionProperty(AUTHORIZATION,"Basic "+base64)},this.createSession=function(base64){this.addSessionProperty(AUTHORIZATION,"Basic "+base64)},this.removeSessionProperty=function(key){return this.isSessionSupported?ls.remove(key):ls.cookie.remove(key)},this.logout=function(){this.isSessionSupported?ls.clearAll():ls.cookie.clearAll()}}]);var taskKey="$task_",timeout=30;angular.module("fluidTask",["fluidSession"]).directive("fluidTask",["FluidTask","fluidTaskService","$compile",function(FluidTask,fluidTaskService,compile){return{restrict:"AE",transclude:!0,replace:!0,template:"<span class='fluid-task'><ng-transclude></ng-transclude></span>",scope:{name:"@"},link:{pre:function(scope,element,attr){var transcludeElement=element.find("ng-transclude");fluidTaskService.findTaskByName(scope.name).then(function(data){scope.task=data,scope.fluidTask=new FluidTask(data),element.html(transcludeElement.html());var icon=element.find("[icon]");icon&&console.info("fluidTask-fluidTask.icon",icon),compile(element.contents())(scope)})}}}}]).provider("taskState",function(){var url,ajax,taskArray;return{setAjax:function(value){ajax=value},setUrl:function(value){url=value},setTasks:function(value){taskArray=value},$get:["$http","sessionService","$q","$rootScope","$timeout","fluidTaskService",function(h,ss,q,rs,t,taskService){return(ajax=(url?!0:!1)||ajax)?void console.info("fluid-task-taskState.url",url):(console.info("fluid-task-taskState.taskArray",taskArray),q(function(resolve,reject){function timeOut(){t(function(){counter===timeout&&reject(EVENT_TIME_OUT),value.done?resolve(EVENT_TASK_LOADED):timeOut(),counter++},1e3)}var length=taskArray.length-1,value={done:!1};angular.forEach(taskArray,function(task,$index){ss.containsKey(taskKey+task.name)||(task.url?taskService.findTaskByUrl(task.url):ss.addSessionProperty(taskKey+task.name,task)),length===$index&&(this.done=!0)},value);var counter=0;timeOut()}).then(function(event){rs.$broadcast(event)}))}]}}).factory("fluidTaskService",["sessionService","$http","$q","fluidStateService","$rootScope","$timeout","$resource",function(ss,h,q,fss,rs,t,r){function timeoutEvent(data){return data!==EVENT_TIME_OUT?data:void rs.$broadcast(EVENT_TIME_OUT,"Task name not found.")}var taskService={};return taskService.findTaskByName=function(name){console.info("fluidTask-fluidTaskService-findTaskByName.name",name);var key=taskKey+name;return q(function(resolve,reject){function waitForTask(counter){console.info("fluidTask-fluidTaskService-findTaskByName-waitForTask.key",counter),console.info("fluidTask-fluidTaskService-findTaskByName-waitForTask.counter",counter),console.info("fluidTask-fluidTaskService-findTaskByName-waitForTask.fss",fss),t(function(){ss.containsKey(key)?(console.info("fluidTask-fluidTaskService-findTaskByName-waitForTask.getSessionProperty",ss.getSessionProperty(key)),resolve(ss.getSessionProperty(key))):counter===timeout?reject(EVENT_TIME_OUT):(counter++,waitForTask(counter))},1e3)}ss.containsKey(key)?resolve(ss.getSessionProperty(key)):waitForTask(0)}).then(timeoutEvent)},taskService.findTaskByUrl=function(url){console.info("fluidTask-fluidTaskService-findTaskByUrl.url",url);var deferred=q.defer();if(null==fss.urlKeys[url])return h.get(url).success(function(data){var key=taskKey+data.name;fss.urlKeys[url]=key,ss.addSessionProperty(key,data),console.info("fluidTask-fluidTaskService.cacheTask.data",data)});var key=this.urlKeys[url];return ss.containsKey(key)&&deferred.resolve(ss.getSessionProperty(key)),deferred.promise},taskService.loadAjax=function(task){return q(function(resolve,reject){})},taskService}]).factory("FluidTask",["fluidTaskService","$resource",function(fluidTaskService,r){var fluidTask=function(defaultTask){var task={};if(angular.copy(defaultTask,task),task.ajax){if(!task.ajax.url)throw"Task ajax.url is required!";task.actions||(task.actions=[]),task.ajax.param||(task.ajax.param={}),task.resource=r(task.ajax.url,task.ajax.param,task.actions)}return console.info("fluidTask-FluidTask.newTask",task),task};return fluidTask}]).service("fluidStateService",[function(){return this.loaded=!1,this.urlKeys=[],this}]),angular.module("fluidTaskcontrols",["fluidTask"]).directive("fluidTaskcontrols",["$templateCache","fluidControlService",function(tc,fcs){return{restrict:"E",template:tc.get("templates/fluid/fluidTaskcontrols.html"),scope:!1,link:function(scope,element,attr){scope.fluidControlService=fcs},replace:!0}}]).factory("TaskControl",["fluidControlService",function(fcs){var control=function(fluidPanel,type){this.glyph="fa fa-question",this.uiClass="btn btn-default",this["class"]="",this.label="",this.fluidPanel=fluidPanel,this.action=function(task,$event){},this.disabled=function(){return!1},this.visible=function(){return!0},this.setId=function(id){this.id=id},null!=fcs.controls[fluidPanel.id]?-1===fcs.controls[fluidPanel.id].indexOf(this)&&fcs.controls[fluidPanel.id].push(this):(fcs.controls[fluidPanel.id]=[],-1===fcs.controls[fluidPanel.id].indexOf(this)&&fcs.controls[fluidPanel.id].push(this))};return control}]).service("fluidControlService",[function(){return this.controls=[],this.clear=function(id){this.controls[id]=void 0},this}]),angular.module("fluidTasknav",["fluidHttp","fluidSession"]).directive("fluidTasknav",["$templateCache","sessionService","fluidHttpService",function(tc,ss,fhs){return{restrict:"AE",scope:!1,template:tc.get("templates/fluid/fluidTasknav.html"),replace:!0,link:function(scope,element,attr){"true"===attr.show&&(console.info("fluidTasknav",attr.show),$("body").addClass("toggle-offcanvas")),attr.position&&(console.info("attr.position",attr.position),"right"===attr.position?element.addClass("right"):element.removeClass("right")),attr.method&&(scope.method=attr.method),scope.$watch(function(){return attr.url?attr.url:void 0},function(url){if(scope.loaded=!1,ss.containsKey(url))scope.data=ss.getSessionProperty(url),scope.loaded=!0;else{var method=scope.method?scope.method:"get";scope.data=fhs.queryLocal({url:url,method:method}).success(function(data){scope.data=data}).then(function(){scope.loaded=!0})}})},transclude:!0}}]).service("fluidTasknavService",["sessionService",function(ss){return this.toggle=function(id){$("body").hasClass("toggle-offcanvas")?$("body").removeClass("toggle-offcanvas"):$("body").addClass("toggle-offcanvas")},this}]),angular.module("fluidTool",[]).directive("fluidTool",["$rootScope","$compile","$templateCache",function(r,c,tc){return{scope:{task:"=",controls:"=",pages:"=",fluid:"=",size:"@",fixed:"="},restrict:"E",replace:!0,template:tc.get("templates/fluid/fluidToolbar.html"),link:function(scope,element,attr){attr.size?"small"===attr.size?scope.size="btn-group-xs":"medium"===attr.size?scope.size="btn-group-sm":"large"===attr.size&&(scope.size="btn-group-md"):scope.size="btn-group-md",scope.runEvent=function(control,$event){if(control.action)control.action($event);else{var event=control.id+"_fp_"+scope.task.id;r.$broadcast(event)}},scope.goToEvent=function(name,param){scope.fluid.navTo(name)},scope.getClass=function(uiType){return"info"===uiType.toLowerCase()?"btn-info":"danger"===uiType.toLowerCase()?"btn-danger":"warning"===uiType.toLowerCase()?"btn-warning":"inverse"===uiType.toLowerCase()?"btn-inverse":"success"===uiType.toLowerCase()?"btn-success":"primary"===uiType.toLowerCase()?"btn-primary":"btn-default"}}}}]).directive("fluidTool2",["$templateCache","fluidToolbarService",function(tc,fts){return{restrict:"E",replace:!0,scope:!1,template:tc.get("templates/fluid/fluidToolbar2.html"),link:{post:function(scope,element,attr){scope.fluidToolbarService=fts}}}}]).factory("ToolBarItem",["fluidToolbarService",function(ts){var toolBarItem=function(fluidPanel){this.glyph="fa fa-question",this["class"]="",this.uiClass="btn btn-default",this.label="",this.type="buttom",this.fluidPanel=fluidPanel,this.action=function(task,$event){},this.showText=!1,this.disabled=function(){return!1},this.visible=function(){return!0},null!=ts.toolbarItems[fluidPanel.id]?-1===ts.toolbarItems.indexOf(this)&&ts.toolbarItems[fluidPanel.id].push(this):(ts.toolbarItems[fluidPanel.id]=[],-1===ts.toolbarItems.indexOf(this)&&ts.toolbarItems[fluidPanel.id].push(this))};return toolBarItem}]).service("fluidToolbarService",[function(){this.toolbarItems=[],this.clear=function(id){this.toolbarItems[id]=void 0}}]),angular.module("templates-dist",["templates/fluid/fluidBreadcrumb.html","templates/fluid/fluidFrame.html","templates/fluid/fluidFrame2.html","templates/fluid/fluidLoader.html","templates/fluid/fluidOption.html","templates/fluid/fluidPage.html","templates/fluid/fluidPanel.html","templates/fluid/fluidPanel2.html","templates/fluid/fluidTaskIcon.html","templates/fluid/fluidTaskcontrols.html","templates/fluid/fluidTasknav.html","templates/fluid/fluidToolbar.html","templates/fluid/fluidToolbar2.html"]),angular.module("templates/fluid/fluidBreadcrumb.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("templates/fluid/fluidBreadcrumb.html",'<div class="fluid-breadcrumb" ng-init="item=[]">\n    <div class="item" ng-repeat="bread in breadcrumb.pages" ng-class="item[$index].active">\n        <span ng-mouseover="item[$index].showClose=true && $index > 0;item[$index].active=\'hovered\'"\n              ng-mouseleave="item[$index].showClose=false;item[$index].active=\'default\'">\n            <span class="label" ng-class="breadcrumb.current === $index ?\'active\':\'inactive\'"\n                  ng-click="breadcrumb.open(bread,$index,$event)">{{bread}}</span>\n            <i ng-if="item[$index].showClose" class="fa fa-close text-danger" title="Close {{bread}}"\n               ng-click="breadcrumb.close(bread,$index,$event)"></i>\n        </span>\n    </div>\n</div>')}]),angular.module("templates/fluid/fluidFrame.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("templates/fluid/fluidFrame.html",'<div class="container-fluid frame-content"\n     ng-class="fluidFrameService.fullScreen ? \'frame-fullscreen\' : \'frame-fluidscreen\'">\n\n    <bootstrap-viewport></bootstrap-viewport>\n    <div ng-if="fluidFrameService.fullScreen" class="frame-content-div" column="12"\n         ng-show="fluidFrameService.fullScreen" style="padding: 0;">\n        <fluid-panel task=\'fluidFrameService.fullScreenTask\'></fluid-panel>\n    </div>\n    <div ng-if="!fluidFrameService.fullScreen" class="container-fluid frame-content-div fluid-frame-div"\n         ng-hide="fluidFrameService.fullScreen">\n        <div ng-init="initTask(task)" class="fluid-panel-transition fluid-frame-task"\n             ng-repeat=\'task in fluidFrameService.taskList | filter:{active:true, title:fluidFrameService.searchTask}\'>\n            <fluid-panel task=\'task\'></fluid-panel>\n        </div>\n    </div>\n</div>\n')}]),angular.module("templates/fluid/fluidFrame2.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("templates/fluid/fluidFrame2.html",'<div class="fluid-frame" fluid-resize-frame ng-class="!frame.fullScreen ?\'default-frame\':\'full\'">\n    <bootstrap-viewport></bootstrap-viewport>\n    <fluid-panel2 ng-if="frame.fullScreen" class="fullscreen" task=\'frame.task\' frame="{{frame.name}}"\n                  fluid-fullscreen-height></fluid-panel2>\n    <div ng-if="!frame.fullScreen">\n        <div class="fluid-frame-task">\n            <fluid-panel2 task="task" frame="{{frame.name}}"\n                          ng-repeat=\'task in frame.tasks | filter:{active:true}\'></fluid-panel2>\n\n        </div>\n    </div>\n</div>\n')}]),angular.module("templates/fluid/fluidLoader.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("templates/fluid/fluidLoader.html","<div>\n<style>\n    #{{getElementFlowId('followingBallsG')}} {\n        position:relative;\n        height:16px;\n    }\n\n    .followingBallsG{\n        background-color:#3647FF;\n        position:absolute;\n        top:0;\n        left:0;\n        width:16px;\n        height:16px;\n        -moz-border-radius:8px;\n        -moz-animation-name:bounce_followingBallsG;\n        -moz-animation-duration:2.2s;\n        -moz-animation-iteration-count:infinite;\n        -moz-animation-direction:normal;\n        -webkit-border-radius:8px;\n        -webkit-animation-name:bounce_followingBallsG;\n        -webkit-animation-duration:2.2s;\n        -webkit-animation-iteration-count:infinite;\n        -webkit-animation-direction:normal;\n        -ms-border-radius:8px;\n        -ms-animation-name:bounce_followingBallsG;\n        -ms-animation-duration:2.2s;\n        -ms-animation-iteration-count:infinite;\n        -ms-animation-direction:normal;\n        -o-border-radius:8px;\n        -o-animation-name:bounce_followingBallsG;\n        -o-animation-duration:2.2s;\n        -o-animation-iteration-count:infinite;\n        -o-animation-direction:normal;\n        border-radius:8px;\n        animation-name:bounce_followingBallsG;\n        animation-duration:2.2s;\n        animation-iteration-count:infinite;\n        animation-direction:normal;\n    }\n\n    #{{getElementFlowId('followingBallsG_1')}} {\n        -moz-animation-delay:0s;\n    }\n\n    #{{getElementFlowId('followingBallsG_1')}} {\n        -webkit-animation-delay:0s;\n    }\n\n    #{{getElementFlowId('followingBallsG_1')}} {\n        -ms-animation-delay:0s;\n    }\n\n    #{{getElementFlowId('followingBallsG_1')}} {\n        -o-animation-delay:0s;\n    }\n\n    #{{getElementFlowId('followingBallsG_1')}} {\n        animation-delay:0s;\n    }\n\n    #{{getElementFlowId('followingBallsG_2')}} {\n        -moz-animation-delay:0.22s;\n        -webkit-animation-delay:0.22s;\n        -ms-animation-delay:0.22s;\n        -o-animation-delay:0.22s;\n        animation-delay:0.22s;\n    }\n\n    #{{getElementFlowId('followingBallsG_3')}} {\n        -moz-animation-delay:0.44s;\n        -webkit-animation-delay:0.44s;\n        -ms-animation-delay:0.44s;\n        -o-animation-delay:0.44s;\n        animation-delay:0.44s;\n    }\n\n    #{{getElementFlowId('followingBallsG_4')}} {\n        -moz-animation-delay:0.66s;\n        -webkit-animation-delay:0.66s;\n        -ms-animation-delay:0.66s;\n        -o-animation-delay:0.66s;\n        animation-delay:0.66s;\n    }\n\n    @-moz-keyframes bounce_followingBallsG{\n        0%{\n            left:0px;\n            background-color:#3647FF;\n        }\n\n        50%{\n            left:189px;\n            background-color:#B5D0FF;\n        }\n\n        100%{\n            left:0px;\n            background-color:#3647FF;\n        }\n\n    }\n\n    @-webkit-keyframes bounce_followingBallsG{\n        0%{\n            left:0px;\n            background-color:#3647FF;\n        }\n\n        50%{\n            left:189px;\n            background-color:#B5D0FF;\n        }\n\n        100%{\n            left:0px;\n            background-color:#3647FF;\n        }\n\n    }\n\n    @-ms-keyframes bounce_followingBallsG{\n        0%{\n            left:0px;\n            background-color:#3647FF;\n        }\n\n        50%{\n            left:189px;\n            background-color:#B5D0FF;\n        }\n\n        100%{\n            left:0px;\n            background-color:#3647FF;\n        }\n\n    }\n\n    @-o-keyframes bounce_followingBallsG{\n        0%{\n            left:0px;\n            background-color:#3647FF;\n        }\n\n        50%{\n            left:189px;\n            background-color:#B5D0FF;\n        }\n\n        100%{\n            left:0px;\n            background-color:#3647FF;\n        }\n\n    }\n\n    @keyframes bounce_followingBallsG{\n        0%{\n            left:0px;\n            background-color:#3647FF;\n        }\n\n        50%{\n            left:189px;\n            background-color:#B5D0FF;\n        }\n\n        100%{\n            left:0px;\n            background-color:#3647FF;\n        }\n\n    }\n\n</style>\n<div id=\"followingBallsG\">\n"+'    <span id="followingBallsG_1" class="followingBallsG">\n    </span>\n    <span id="followingBallsG_2" class="followingBallsG">\n    </span>\n    <span id="followingBallsG_3" class="followingBallsG">\n    </span>\n    <span id="followingBallsG_4" class="followingBallsG">\n    </span>\n</div>\n</div>')}]),angular.module("templates/fluid/fluidOption.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("templates/fluid/fluidOption.html",'<div id="fluid_option" class="fluid-option {{task.locked?\'locked\':\'\'}}">\n    <div id="fluid_option_template" class="fluid-option-template"></div>\n</div>');

}]),angular.module("templates/fluid/fluidPage.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("templates/fluid/fluidPage.html","<div class=\"fluid-page\" ng-class=\"!fluidPage.loaded ? 'default-page':''\">\n</div>\n")}]),angular.module("templates/fluid/fluidPanel.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("templates/fluid/fluidPanel.html","<div id='_id_fp_{{task.id}}' task\n     class=\"panel {{!fluidFrameService.fullScreen ? 'panel-default fluid-task' : 'panel-default frame-fullscreen'}}\"\n     task-origin-id=\"{{task.signature.id}}\" task-url=\"{{task.signature.url}}\">\n\n    <script id=\"{{fluid.getElementFlowId('pageList')}}\" type=\"text/ng-template\">\n        <div class=\"input-group\">\n            <input class=\"form-control\" ng-model=\"task.searchPage\" placeholder=\"Page\"/>\n            <span class=\"input-group-addon\"><i class=\"fa fa-search\"></i></span>\n        </div>\n        <ul class=\"list-group\">\n            <li class=\"list-group-item\"\n                ng-repeat=\"page in task.pages | filter: {'title':task.searchPage} | filter: filterPage\"\n                ng-click=\"fluid.goTo(page.name);fluid.closeOption()\"\n                style=\"cursor: pointer\"\n                ng-class=\"task.page.name == page.name ? 'active':''\">\n                {{page.title}}\n            </li>\n        </ul>\n    </script>\n\n    <div class='panel-heading' ng-show=\"!task.locked\">\n        <!-- Title-->\n        <div class=\"panel-title\">\n            <a ng-if=\"!fluidFrameService.fullScreen\" data-toggle='collapse'\n               data-target='#_{{task.id}}'\n               href='#'\n               class=\"fluid-panel-heading-title\">\n                <fluid-task-icon class=\"fluid-icon-left hidden-sm hidden-md hidden-xs\" task=\"task\"></fluid-task-icon>\n                <span ng-if=\"task.loaded\" class=\"hidden25\">&nbsp;{{task.title}} - {{task.page.title}}</span></a>\n            <span ng-if=\"task.loaded && fluidFrameService.fullScreen\">&nbsp;{{task.title}} - {{task.page.title}}</span>\n            <fluid-loader class=\"{{!fluidFrameService.fullScreen ? 'fluid-panel-loader':''}}\"\n                          ng-if=\"!task.loaded\"></fluid-loader>\n        </div>\n\n        <!-- Control -->\n        <div class=\"{{task.useImg ? 'panel-control-img': 'panel-control-glyph'}} pull-right\">\n            <div class=\"btn-group btn-group-lg hidden-lg {{!task.useImg ?'fluid-icon-right-glyph':''}}\">\n                <a href='#' class='dropdown-toggle' data-toggle='dropdown'>\n                    <fluid-task-icon task=\"task\"\n                                     class=\"{{!fluidFrameService.fullScreen ? '' : 'text-primary'}} fluid-panel-icon-control\"></fluid-task-icon>\n                </a>\n                <ul class='dropdown-menu dropdown-menu-right dropdown-menu-inverse'>\n                    <li><a href='#' ng-click='task.refresh()'>Refresh</a></li>\n                    <li class='divider hidden-lg hidden-sm hidden-xs'></li>\n                    <li ng-if=\"!fluidFrameService.fullScreen\">\n                        <a ng-click='task.fullScreen()'>Fullscreen</span></a>\n                    </li>\n                    <li ng-if='fluidFrameService.fullScreen'>\n                        <a ng-click=\"task.fluidScreen()\">Fluidscreen</a>\n                    </li>\n                    <li class='hidden-lg'><a href='#' ng-click='task.hide(task)'>Minimize</a>\n                    </li>\n                    <li ng-if=\"task.closeable==undefined || task.closeable==true\" class='divider'></li>\n                    <li ng-if=\"task.closeable==undefined || task.closeable==true\"><a\n                            ng-class=\"task.locked ? 'hidden-sm hidden-md hidden-xs' : ''\" href='#'\n                            ng-click='task.close()'>Close</a></li>\n                </ul>\n            </div>\n            <div class=\"hidden-md hidden-xs hidden-sm btn-group btn-group-xs {{fluidFrameService.fullScreen && !task.useImg ? 'panel-control-fullscreen' :''}}\n             {{!fluidFrameService.fullScreen && !task.useImg ? 'panel-tools' :''}} {{!fluidFrameService.fullScreen && task.useImg ? 'panel-tools-img' :''}}\">\n                <!-- ToDo: Allow panel to freeze. <button class='btn btn-info fa fa-paperclip' ng-click='freeze(task)'ng-class=\\\"task.freeze ? 'active' :''\\\" title='Clip'></button>-->\n                <!-- <button ng-class=\"task.pinned ?\n                         'active' :''\" title='Pin' type=\"button\" class=\"btn btn-info\" ng-click='task.pin()' >\n                     <i class='fa fa-thumb-tack'title=\"Pin\"\n                      ></i>\n                 </button>-->\n\n                <button ng-hide='fluidFrameService.fullScreen' ng-disabled='task.pinned' type=\"button\"\n                        class=\"btn btn-info\" ng-click='task.max25()' title=\"Maximize - 25\">\n                    <i><span class='fa fa-arrows-h' style=\"transform: scaleX(0.8)\"></span></i>\n                </button>\n\n                <button ng-hide='fluidFrameService.fullScreen' ng-disabled='task.pinned' title=\"Maximize - 50\"\n                        class=\"btn btn-info\"\n                        ng-click='task.max50()'>\n                    <i class='element-center fa fa-arrows-h' style=\"transform: scaleX(0.9)\"></i>\n                </button>\n                <button ng-hide='fluidFrameService.fullScreen' ng-disabled='task.pinned' ng-click='task.max75()'\n                        class=\"btn btn-info\">\n                    <i title=\"Maximize - 75\"\n                            ><span class='fa fa-arrows-h' style=\"transform: scaleX(1.1)\"></span></i>\n                </button>\n                <button ng-hide='fluidFrameService.fullScreen' ng-disabled='task.pinned' ng-click='task.max100()'\n                        class=\"btn btn-info\">\n                    <i title=\"Maximize - 100\" class='element-center fa fa-arrows-h' style=\"transform: scaleX(1.3)\"></i>\n                </button>\n                <button ng-disabled='task.pinned' title=\"Minimize\" ng-click='task.hide(task)'\n                        class=\"btn {{fluidFrameService.fullScreen ? 'btn-default' : 'btn-info'}}\">\n                    <i title='minimize'\n                       class='element-center fa fa-angle-down'></i>\n                </button>\n                <button ng-if=\"!fluidFrameService.fullScreen\" class=\"btn btn-info\" ng-click='task.fullScreen()'>\n                    <i title=\"Full screen\" class=\"element-center fa fa-expand\"></i>\n                </button>\n                <button ng-if='fluidFrameService.fullScreen'\n                        class=\"btn {{fluidFrameService.fullScreen ? 'btn-default' : 'btn-info'}}\"\n                        ng-click=\"task.fluidScreen()\">\n                    <i title=\"Fluid screen\" class='element-center fa fa-th'></i>\n                </button>\n                <button class=\"btn {{fluidFrameService.fullScreen ? 'btn-default' : 'btn-info'}}\"\n                        ng-click='task.refresh()'>\n                    <i title=\"Refresh\" class=\"element-center fa \"\n                       ng-class=\"task.loaded ? 'fa-refresh' : 'fa-spin fa-refresh'\"></i>\n                </button>\n                <button ng-if=\"task.closeable==undefined || task.closeable==true\"\n                        class=\"btn {{fluidFrameService.fullScreen ? 'btn-default' : 'btn-danger'}}\"\n                        ng-disabled='task.pinned||task.locked' ng-click='task.close()'>\n                    <i class='element-center fa fa-close' title=\"Close\"\n                       title='close'></i>\n                </button>\n\n            </div>\n\n        </div>\n    </div>\n    <div id='_{{task.id}}' class='panel-collapse collapse in'>\n        <div id='_id_fpb_{{task.id}}' class=\"panel-body fluid-panel container-fluid\" ng-disabled='!task.loaded'>\n            <fluid-option></fluid-option>\n            <fluid-message id=\"{{fluid.get('pnl_msg')}}\"></fluid-message>\n\n            <fluid-tool size=\"large\" fluid=\"fluid\"\n                        id=\"{{fluid.getElementFlowId('flw_tl')}}\"\n                        ng-if='task.showToolBar' controls='toolbars'\n                        task='task' pages='task.navPages'></fluid-tool>\n            <div class=\"hidden50 fluid-page-list\"\n                 ng-class=\"task.showPageList && showList()?'fluid-panel-page-list col-lg-3 col-md-3': 'fluid-panel-page-list-hidden'\">\n\n"+'                <div ng-if="task.showPageList && showList()" class="input-group">\n                    <input class="form-control" ng-model="task.searchPage" placeholder="Page"/>\n                    <span class="input-group-addon"><i class="fa fa-search"></i></span>\n                </div>\n\n                <ul ng-if="task.showPageList && showList()" class="list-group">\n                    <li class="list-group-item"\n                        ng-repeat="page in task.pages |  filter: {\'title\':task.searchPage} | filter: filterPage"\n                        ng-click="fluid.goTo(page.name)"\n                        style="cursor: pointer"\n                        ng-class="task.page.name == page.name ? \'active\':\'\'">\n                        {{page.title}}\n                    </li>\n                </ul>\n            </div>\n            <div class="fluid-panel-content" ng-class="task.showPageList ? \'col-lg-9 col-md-9\':\'col-lg-12 col-md-12\'">\n                <div ng-if=\'task.pageLoaded\' id=\'page_div_{{task.id}}\'\n                     class="fluid-panel-page animated {{task.pageTransition ? task.pageTransition : \'fadeIn\'}}"\n                     ng-include=\'fluidPageService.renderPage(task,fluid).home\'></div>\n            </div>\n\n        </div>\n    </div>\n</div>\n')}]),angular.module("templates/fluid/fluidPanel2.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("templates/fluid/fluidPanel2.html",'<div id=\'_id_fp\'\n     ng-class="!fluidPanel.frame.fullScreen ? \'panel panel-primary fluid-task\' : \'panel panel-default frame-fullscreen\'"\n     class="fluid-panel">\n    <div ng-if="fluidPanel" class="panel-heading" ng-if="!task.locked">\n        <div class="panel-title">\n            <div class="left">\n\n                <a ng-if="fluidPanel.loaded && !fluidPanel.frame.fullScreen" href="#" class="fluid-panel-heading-title"\n                   data-toggle="collapse"\n                   data-target="#collapse_{{task.fluidId}}">\n                    <fluid-task-icon class="hidden-xs hidden-sm hidden25 btn-group btn-group-xs"></fluid-task-icon>\n                    <span>{{task.title}}</span>\n                </a>\n                <span ng-if="fluidPanel.frame.fullScreen" class="fluid-panel-heading-title">\n                    <fluid-task-icon class="hidden-xs hidden-sm hidden25 btn-group btn-group-xs"></fluid-task-icon>\n                    <span>{{task.title}}</span>\n                </span>\n\n                <fluid-loader ng-if="!fluidPanel.loaded" class="fluid-panel-loader"></fluid-loader>\n            </div>\n            <fluid-breadcrumb ng-if="fluidPanel && fluidPanel.loaded"\n                              fluid-panel="fluidPanel"></fluid-breadcrumb>\n\n            <fluid-taskcontrols class="controls"></fluid-taskcontrols>\n        </div>\n    </div>\n    <div ng-if="fluidPanel" id="collapse" class="panel-collapse collapse in">\n        <div id="_id_fpb" class="panel-body container-fluid">\n            <fluid-option></fluid-option>\n            <fluid-message id="fluidPanelMsg"></fluid-message>\n            <fluid-tool2 ng-if="task.showToolBar" class="width100pc"></fluid-tool2>\n            <fluid-page id="fluid_page"\n                        page="fluidPanel.pages[fluidPanel.fluidBreadcrumb.currentPage()]"\n                        fluid-panel="fluidPanel"\n                        class="{{task.showToolBar ? \'toolbar\':\'\'}}"></fluid-page>\n        </div>\n    </div>\n    <script ng-if="fluidPanel" id="menu_option" type="text/ng-template">\n        <div class="container-fluid"></div>\n    </script>\n\n</div>')}]),angular.module("templates/fluid/fluidTaskIcon.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("templates/fluid/fluidTaskIcon.html",'<span class="fluid-task-icon">\n    <img ng-if="task.useImg" width="{{width? width:15}}" height="{{height?height:15}}" ng-src="{{task.imgSrc}}">\n    <i ng-if="!task.useImg" ng-class="task.glyph"></i>\n</span>')}]),angular.module("templates/fluid/fluidTaskcontrols.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("templates/fluid/fluidTaskcontrols.html",'<span class="fluid-taskcontrols">\n      <div class="hidden-xs hidden-sm hidden-md hidden25 btn-group btn-group-xs">\n          <button type="button" ng-if="control.visible()" ng-disbabled="control.disabled()" class="{{control.uiClass}}"\n                  ng-repeat="control in fluidControlService.controls[fluidPanel.id]| reverse"\n                  ng-class="control.class"\n                  ng-click="control.action(task,$event)"><i class="{{control.glyph}} control-glyph"></i></button>\n      </div>\n      <div class="hidden100 hidden50 hidden75 btn-group btn-group-xs small">\n          <a href="#" class="icon dropdown-toggle fa-inverse" data-toggle=\'dropdown\'>\n              <fluid-task-icon task="task"></fluid-task-icon>\n          </a>\n          <ul class=\'dropdown-menu dropdown-menu-right dropdown-menu-inverse\'>\n              <li ng-repeat="control in fluidControlService.controls[fluidPanel.id]| reverse"\n                  ng-if="control.visible() || control.disabled()"\n                  ng-class="control.class">\n                  <a href="#" ng-click="control.action(task,$event)">{{control.label}}</a>\n              </li>\n          </ul>\n      </div>\n</span>\n\n')}]),angular.module("templates/fluid/fluidTasknav.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("templates/fluid/fluidTasknav.html",'<div id class="fluid-tasknav">\n    <ng-transclude></ng-transclude>\n</div>')}]),angular.module("templates/fluid/fluidToolbar.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("templates/fluid/fluidToolbar.html","<div class='container-fluid animated fadeIn anim-dur' style=\"padding: 0\">\n    <div class=\"ndg-breadcrumb\">\n        <ul class='breadcrumb hidden-xs hidden-sm hidden25 hidden50 hidden-fullscreen-xs hidden-fullscreen-sm'>\n\n            <li class=\"pull-left\"\n                ng-repeat='page in task.navPages'>\n                <a ng-class=\"task.page.name == page.name ? 'plain-text':''\" title='{{page.title}}' href='#'\n                   ng-click='goToEvent(page.name,page.param)'>{{page.title}}</a>\n            </li>\n\n\n            <div class='form-group pull-right'>\n                <div class='btn-group {{group-size}}'>\n                    <button ng-if=\"control.visible() == undefined || control.visible()\"\n                            id='btn_tool_{{control.id}}_{{task.id}}' ng-repeat='control in controls'\n                            title='{{control.label}}'\n                            class='btn button-tool' ng-class='getClass(control.uiType)'\n                            ng-click='runEvent(control,$event)'\n                            ng-disabled='control.disabled' type='button'><span ng-class='control.glyph'></span></button>\n                </div>\n            </div>\n            <div class=\"clearfix\"></div>\n        </ul>\n        <ul class='breadcrumb hidden-md hidden100 hidden75 hidden-fullscreen-lg hidden-fullscreen-md'>\n\n            <li class=\"pull-left\">\n                <a ng-class=\"task.page.name == task.navPages[0].name ? 'plain-text':''\"\n                   title='{{task.navPages[0].title}}' href='#'\n                   ng-click='goToEvent(task.navPages[0].name,task.navPages[0].param)'>{{task.navPages[0].title}}</a>\n                <a ng-if=\"task.navPages.length > 1\" href=\"#\" title=\"more\"\n                   ng-click=\"fluid.openOption(fluid.getElementFlowId('breadcrumb'),$event)\">...</a>\n            </li>\n\n            <div class='form-group pull-right'>\n                <div class='btn-group {{group-size}}'>\n                    <button ng-if=\"control.visible() == undefined || control.visible()\"\n                            id='btn_tool_{{control.id}}_{{task.id}}' ng-repeat='control in controls'\n                            title='{{control.label}}'\n                            class='btn button-tool' ng-class='getClass(control.uiType)'\n                            ng-click='runEvent(control,$event)'\n                            ng-disabled='control.disabled' type='button'><span ng-class='control.glyph'></span></button>\n                </div>\n            </div>\n            <div class=\"clearfix\"></div>\n        </ul>\n    </div>\n\n\n    <script type=\"text/ng-template\" id=\"{{fluid.getElementFlowId('breadcrumb')}}\">\n        <ul class=\"breadcrumb\">\n            <li class=\"pull-left\" ng-if=\"$index > 0\"\n                ng-repeat='page in task.navPages'>\n                <a ng-class=\"task.page.name == page.name ? 'plain-text':''\" title='{{page.title}}' href='#'\n                   ng-click='goToEvent(page.name,page.param)'>{{page.title}}</a>\n            </li>\n\n        </ul>\n    </script>\n</div>")}]),angular.module("templates/fluid/fluidToolbar2.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("templates/fluid/fluidToolbar2.html",'<div class="fluid-toolbar">\n    <div class="btn-group btn-group-sm hidden-xs hidden-sm hidden-md">\n        <button ng-if="control.visible()" ng-disabled="control.disabled()" class="{{control.class}}"\n                ng-repeat="control in fluidToolbarService.toolbarItems[fluidPanel.id]"\n                ng-class="control.uiClass"\n                type="{{control.type}}" title="{{control.label}}"\n                ng-click="control.action(task,$event)"><i class="{{control.glyph}}"></i>{{control.showText ?\n            control.label : \'\'}}\n        </button>\n    </div>\n\n    <div class="btn-group btn-group-md hidden-lg" role="toolbar">\n        <button ng-if="control.visible()" ng-disabled="control.disabled()" class="{{control.class}}"\n                ng-repeat="control in fluidToolbarService.toolbarItems[fluidPanel.id]"\n                ng-class="control.uiClass"\n                type="{{control.type}}" title="{{control.label}}"\n                ng-click="control.action(task,$event)"><i class="{{control.glyph}}"></i>{{control.showText ?\n            control.label : \'\'}}\n        </button>\n    </div>\n</div>')}]);