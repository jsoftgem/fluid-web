<div class="container-fluid" style="padding: 15px 0" ng-controller="moduleTaskCtrl">


    <form class="form-horizontal" ng-submit="save($event)">
        <div column="2" class="task-panel">
            <div class="panel panel-primary">
                <div class="panel-heading"><span class="panel-title">Properties</span></div>
                <div class="panel-body">
                    <div class="container-fluid">
                        <div class="form-group" column="12">
                            <label for="{{fluidPanel.getElementFlowId('name')}}">Name<span
                                    class="required">*</span></label>
                            <input ng-required="true" id="{{fluidPanel.getElementFlowId('name')}}"
                                   class="form-control"
                                   ng-model="data.name">
                        </div>
                        <div class="form-group" column="12">
                            <label for="{{fluidPanel.getElementFlowId('title')}}">Title<span
                                    class="required">*</span></label>
                            <input id="{{fluidPanel.getElementFlowId('title')}}" class="form-control"
                                   ng-model="data.title">
                        </div>
                        <div class="form-group" column="12">
                            <label for="{{fluidPanel.getElementFlowId('host')}}">Host</label>
                            <input id="{{fluidPanel.getElementFlowId('host')}}" class="form-control"
                                   ng-model="data.host">
                        </div>
                        <div class="form-group" column="12">
                            <label for="{{fluidPanel.getElementFlowId('glyph')}}">Glyph</label>
                            <input id="{{fluidPanel.getElementFlowId('glyph')}}" class="form-control"
                                   ng-model="data.glyph">
                        </div>
                        <div class="form-group" column="12">
                            <label for="{{fluidPanel.getElementFlowId('page')}}">Page</label>
                            <input id="{{fluidPanel.getElementFlowId('page')}}" class="form-control"
                                   ng-model="data.page">
                        </div>
                    </div>
                </div>

            </div>


            <div class="panel panel-primary">

                <div class="panel-heading">
                    <span class="panel-title">Options</span>
                </div>

                <div class="panel-body" style="overflow: auto">
                    <div class="container-fluid">
                        <div class="form-group" column="12">
                            <label for="{{fluidPanel.getElementFlowId('imgSrc')}}">Image <input type="checkbox"
                                                                                                ng-model="data.useImg"></label>
                            <span ng-if="data.useImg" class="required">*</span>
                            <input id="{{fluidPanel.getElementFlowId('imgSrc')}}" ng-if="data.useImg"
                                   class="form-control"
                                   ng-model="data.imgSrc" placeholder="Source">
                        </div>
                        <div class="form-group" column="12">
                            <label for="{{fluidPanel.getElementFlowId('lazyLoad')}}">Lazy <input type="checkbox"
                                                                                                 ng-model="data.lazyLoad"></label>
                            <span ng-if="data.lazyLoad" class="required">*</span>
                            <input id="{{fluidPanel.getElementFlowId('lazyLoad')}}" ng-if="data.lazyLoad"
                                   class="form-control"
                                   ng-model="data.moduleJS" placeholder="Module name">

                            <div column="form-control"></div>
                            <textarea rows="3" class="form-control" ng-if="data.lazyLoad" placeholder="Module files"
                                      ng-model="data.moduleFiles"></textarea>

                        </div>
                        <div class="form-group" column="12">
                            <label for="{{fluidPanel.getElementFlowId('showToolBar')}}">Toolbar <input
                                    id="{{fluidPanel.getElementFlowId('showToolBar')}}" type="checkbox"
                                    ng-model="data.showToolBar"></label>
                        </div>
                        <div class="form-group" column="12">
                            <label for="{{fluidPanel.getElementFlowId('active')}}">Active <input
                                    id="{{fluidPanel.getElementFlowId('active')}}" type="checkbox"
                                    ng-model="data.active"></label>
                        </div>
                        <div class="form-group" column="12">
                            <label for="{{fluidPanel.getElementFlowId('closeable')}}">Closeable <input
                                    id="{{fluidPanel.getElementFlowId('closeable')}}" type="checkbox"
                                    ng-model="data.closeable"></label>
                        </div>
                        <div class="form-group" column="12">
                            <label for="{{fluidPanel.getElementFlowId('locked')}}">Locked <input
                                    id="{{fluidPanel.getElementFlowId('locked')}}" type="checkbox"
                                    ng-model="data.locked"></label>
                        </div>
                    </div>
                </div>
            </div>


        </div>
        <div column="10">
            <div class="panel panel-primary">
                <div class="panel-heading"><span class="panel-title">Pages</span>
                </div>
                <div class="panel-body">
                    <div class="container-fluid">
                        <ul class="nav nav-pills">
                            <li ng-repeat="pg in data.pages" style="border: 1px skyblue solid"
                                ng-mouseover="hover=$index"
                                ng-mouseleave="hover=-1">
                                <a ng-click="editPage(pg,$index)"
                                   href="#">{{pg.title}} <i ng-if="$index===hover" title="Remove"
                                                            style="cursor: pointer"
                                                            class="pull-right text-danger fa fa-remove"
                                                            ng-click="removePage($index)"></i></a>
                            </li>
                        </ul>
                        <div column="12" style="height: 5px"></div>

                        <div column="1" ng-if="page">
                            <div class="form-group">
                                <label for="{{fluidPanel.getElementFlowId('pageName')}}">Name<span
                                        class="required">*</span></label>
                                <input ng-required="true" id="{{fluidPanel.getElementFlowId('pageName')}}"
                                       class="form-control"
                                       ng-model="page.name">
                            </div>
                            <div class="form-group">
                                <label for="{{fluidPanel.getElementFlowId('pageTitle')}}">Title<span
                                        class="required">*</span></label>
                                <input ng-required="true" id="{{fluidPanel.getElementFlowId('pageTitle')}}"
                                       class="form-control"
                                       ng-model="page.title">
                            </div>


                            <div class="form-group">
                                <label for="{{fluidPanel.getElementFlowId('pageHome')}}"> Home <input
                                        id="{{fluidPanel.getElementFlowId('pageHome')}}" type="checkbox"
                                        ng-model="page.isHome"></label>
                                <span ng-if="selectedIndex == 0 && data.pages.length == 1" class="required">*</span>
                            </div>

                            <div class="form-group">
                                <label for="{{fluidPanel.getElementFlowId('pageStatic')}}"> Static <input
                                        id="{{fluidPanel.getElementFlowId('pageStatic')}}" type="checkbox"
                                        ng-model="page.static"></label>
                            </div>

                            <div ng-if="!page.static" class="form-group">
                                <label for="{{fluidPanel.getElementFlowId('pageHomeUrl')}}">Home Url<span
                                        class="required">*</span></label>
                                <input ng-required="true" id="{{fluidPanel.getElementFlowId('pageHomeUrl')}}"
                                       class="form-control"
                                       ng-model="page.home">
                            </div>

                            <fieldset>
                                <legend>Ajax</legend>
                                <div class="form-group">
                                    <label for="{{fluidPanel.getElementFlowId('auto')}}"> Auto <input
                                            id="{{fluidPanel.getElementFlowId('auto')}}" type="checkbox"
                                            ng-model="page.ajax.auto"></label>
                                </div>
                                <div class="form-group">
                                    <label for="{{fluidPanel.getElementFlowId('ajaxUrl')}}">Url<span
                                            class="required">*</span></label>
                                    <input ng-required="true" id="{{fluidPanel.getElementFlowId('ajaxUrl')}}"
                                           class="form-control"
                                           ng-model="page.ajax.url">
                                </div>
                            </fieldset>
                        </div>
                        <div column="11" ng-if="page && page.static">
                            <label for="{{fluidPanel.getElementFlowId('pageHtmlEditor')}}">Html</label>

                            <ul class="nav nav-tabs">
                                <li ng-class="tab === 'source'?'active':''"><a href="#"
                                                                               ng-click="source($event)">Source</a>
                                </li>
                                <li ng-class="tab === 'preview'?'active':''"><a href="#"
                                                                                ng-click="preview(page,$event);">Preview</a>
                                </li>
                            </ul>
                            <div ng-if="tab ==='source'" class="editor" ng-model="page.html"
                                 id="{{fluidPanel.getElementFlowId('pageHtmlEditor')}}"
                                 ui-ace="{ useWrapMode : true, showGutter: false, theme:'eclipse',mode: 'html',firstLineNumber: 5}">
                            </div>

                            <div ng-if="tab ==='preview'" class="editor"
                                 id="{{fluidPanel.getElementFlowId('pageHtmlPreview')}}">
                                <fluid-frame class="preview-frame"
                                             name="{{fluidPanel.getElementFlowId('pageHtmlFramePreview')}}"></fluid-frame>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </form>
</div>